(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{1059:function(e,t,c){},1061:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),r=c(39),s=c.n(r),o=(c(512),c(13)),i=c.n(o),l=c(21),u=(c(513),c(17)),j=(c(180),c(35)),d="LOGGED_IN_USER",b="LOGOUT",h="SEARCH_QUERY",p="REMOVE_SEARCH_VALUE",O="ADD_TO_CART",m="REMOVE_FROM_CART",x="EMPTY_CART",f="SET_VISIBLE",g="COUPON_APPLIED",v=[0,5e3],N=function(e,t,c,n,a){return function(r){r({type:d,payload:{email:e,name:t,role:c,_id:n,token:a}})}},y=function(e){return function(t){t({type:g,payload:e})}},w=c(19),k=c(179);c(518);k.a.apps.length||k.a.initializeApp({apiKey:"AIzaSyA7xjDM3Mdj1r2De8CVwrbRnr4o3gV0Kb4",authDomain:"react-todolist-78468.firebaseapp.com",databaseURL:"https://react-todolist-78468-default-rtdb.europe-west1.firebasedatabase.app",projectId:"react-todolist-78468",storageBucket:"react-todolist-78468.appspot.com",messagingSenderId:"895051756377",appId:"1:895051756377:web:154073ad91197410e71248",measurementId:"G-4PHKF7WVZM"});var S=k.a.auth(),C=new k.a.auth.GoogleAuthProvider,P=c(29),_=c.n(P),E=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.post("".concat("https://techshop-tran.herokuapp.com/api","/create-or-update-user"),{},{headers:{authtoken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.post("".concat("https://techshop-tran.herokuapp.com/api","/current-user"),{},{headers:{authtoken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.post("".concat("https://techshop-tran.herokuapp.com/api","/current-admin"),{},{headers:{authtoken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=c(12),D=(c(310),c(205)),L=c.p+"static/media/image-3.31f803f6.webp",I=c.p+"static/media/image-3.d8920674.png",R=c.p+"static/media/image-4.0f7c911a.jpeg",B=c(24),M=(c(316),c(2));var U=function(){var e=Object(n.useState)(0),t=Object(A.a)(e,2),c=t[0],a=t[1];return Object(M.jsx)("div",{style:{backgroundColor:"#f2f2f2"},children:Object(M.jsx)("div",{className:"container pt-3 pb-3",children:Object(M.jsxs)(D.Carousel,{showThumbs:!1,interval:5e3,infiniteLoop:!0,autoPlay:!0,onChange:function(e){a(e)},showStatus:!1,children:[Object(M.jsxs)("div",{className:"row slide ".concat(0===c&&"active"),children:[Object(M.jsxs)("div",{className:"col-md-4 d-flex justify-content-center align-items-start flex-column text-left mt-5 mb-5",children:[Object(M.jsx)("h2",{className:"top-down trans-delay-0-2",children:"Make everything easy"}),Object(M.jsx)("h2",{className:"top-down trans-delay-0-2",children:"on the eyes"}),Object(M.jsx)("h5",{className:"top-down trans-delay-0-4",children:"MAC PRO"}),Object(M.jsx)(B.b,{to:"/shop",className:"top-down trans-delay-0-6",children:Object(M.jsx)("button",{className:"btn btn-primary btn-raised",children:"Shop now"})})]}),Object(M.jsx)("div",{className:"col-md-8 top-down right-left",children:Object(M.jsx)("img",{src:I,style:{objectFit:"scale-down"},alt:"banner-1"})})]}),Object(M.jsxs)("div",{className:"row slide ".concat(1===c&&"active"),children:[Object(M.jsx)("div",{className:"col-md-8 top-down left-right",children:Object(M.jsx)("img",{src:L,style:{objectFit:"scale-down"},alt:"banner-2"})}),Object(M.jsxs)("div",{className:"col-md-4 d-flex justify-content-center align-items-start flex-column text-left mt-5 mb-5",children:[Object(M.jsx)("h2",{className:"top-down trans-delay-0-2",children:"Finishing touches"}),Object(M.jsx)("h5",{className:"top-down trans-delay-0-4",children:"and essentials"}),Object(M.jsx)(B.b,{to:"/shop",className:"top-down trans-delay-0-6",children:Object(M.jsx)("button",{className:"btn btn-primary btn-raised",children:"Shop now"})})]})]}),Object(M.jsxs)("div",{className:"row slide ".concat(2===c&&"active"),children:[Object(M.jsxs)("div",{className:"col-md-4 d-flex justify-content-center align-items-start flex-column text-left mt-5 mb-5",children:[Object(M.jsx)("h2",{className:"top-down trans-delay-0-2",children:"Workspaces That"}),Object(M.jsx)("h2",{className:"top-down trans-delay-0-2",children:"Work for You"}),Object(M.jsx)("h5",{className:"top-down trans-delay-0-4",children:"Personalize your space with"}),Object(M.jsx)("h5",{className:"top-down trans-delay-0-4",children:"accessories certified for Microsoft Teams"}),Object(M.jsx)(B.b,{to:"/shop",className:"top-down trans-delay-0-6",children:Object(M.jsx)("button",{className:"btn btn-primary btn-raised",children:"Shop now"})})]}),Object(M.jsx)("div",{className:"col-md-8 top-down",children:Object(M.jsx)("img",{src:R,style:{objectFit:"scale-down"},alt:"banner-3"})})]})]})})})},q=c(1066),V=function(){var e=Object(l.a)(i.a.mark((function e(t,c){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.post("".concat("https://techshop-tran.herokuapp.com/api","/product"),t,{headers:{authtoken:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),z=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("".concat("https://techshop-tran.herokuapp.com/api","/products/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(l.a)(i.a.mark((function e(t,c){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.delete("".concat("https://techshop-tran.herokuapp.com/api","/product/").concat(t),{headers:{authtoken:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),Y=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("".concat("https://techshop-tran.herokuapp.com/api","/product/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(l.a)(i.a.mark((function e(t,c,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.put("".concat("https://techshop-tran.herokuapp.com/api","/product/").concat(t),c,{headers:{authtoken:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c,n){return e.apply(this,arguments)}}(),G=function(){var e=Object(l.a)(i.a.mark((function e(t,c,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.post("".concat("https://techshop-tran.herokuapp.com/api","/products"),{sort:t,order:c,page:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c,n){return e.apply(this,arguments)}}(),$=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("".concat("https://techshop-tran.herokuapp.com/api","/products/total"),{});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(l.a)(i.a.mark((function e(t,c,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.put("".concat("https://techshop-tran.herokuapp.com/api","/product/star/").concat(t),{star:c},{headers:{authtoken:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c,n){return e.apply(this,arguments)}}(),J=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("".concat("https://techshop-tran.herokuapp.com/api","/product/related/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.post("".concat("https://techshop-tran.herokuapp.com/api","/search/filters"),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=c(145),X=c(1067),ee=c(1068);var te=function(e){var t=e.count,c=Object(Z.a)(Array(t).keys());return Object(M.jsx)("div",{className:"row pb-5",children:c.map((function(e){return Object(M.jsx)(X.a,{className:"col-md-4",children:Object(M.jsx)(ee.a,{active:!0})},e)}))})},ce=c.p+"static/media/no_image_available.b21add8f.png",ne=c(1077),ae=c(139),re=c.n(ae);var se=function(e){var t=e.product,c=t&&t.ratings?function(e){if(e&&e.ratings){var t=e.ratings.length,c=e.ratings.reduce((function(e,t){return e+Number(t.star)}),0);return 0!==t?c/t:0}return 0}(t):0;return Object(M.jsx)("div",{className:"text-center pt-1 pb-3",children:0!==c?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(re.a,{starDimension:"20px",starSpacing:"2px",allowHalf:!0,rating:c,starRatedColor:"red",numberOfStars:5,editing:!1})," ","(",t.ratings.length,")"]}):"No rating yet"})},oe=c(27),ie=c(1076),le=c(146),ue=function(e){return function(t,c){t({type:O,payload:e}),console.log("object",c().cart),"undefined"!==typeof window&&localStorage.setItem("cart",JSON.stringify(c().cart))}},je=function(){return function(e){"undefined"!==typeof window&&localStorage.removeItem("cart"),e({type:x,payload:[]})}},de=function(e){return function(t){t({type:f,payload:e})}};var be=function(e){var t=e.product,c=Object(n.useState)("Click to add"),a=Object(A.a)(c,2),r=a[0],s=a[1],o=Object(w.b)();return Object(M.jsx)(le.a,{title:r,color:"green",children:Object(M.jsxs)("a",{href:"#addToCard",role:"button",onClick:function(){s("Added"),o(de(!0)),o(ue(Object(oe.a)(Object(oe.a)({},t),{},{count:1})))},disabled:t.quantity<1,children:[Object(M.jsx)(ie.a,{className:t.quantity<1?"text-danger":"text-success"}),Object(M.jsx)("br",{}),t.quantity<1?"Out of stock":"Add to Card"]})})};var he=function(e){var t=e.product,c=t.title,n=t.images,a=t.price,r=t.description,s=t.product_id,o=t.slug;return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(se,{product:t}),Object(M.jsx)(X.a,{bordered:!0,hoverable:!0,cover:Object(M.jsx)("img",{style:{height:"150px",objectFit:"cover"},alt:s,src:n&&n.length?n[0].url:ce,className:"p-1"}),actions:[Object(M.jsxs)(B.b,{to:"/product/".concat(o),children:[Object(M.jsx)(ne.a,{className:"text-warning"}),Object(M.jsx)("br",{}),"View Product"]}),Object(M.jsx)(be,{product:t})],children:Object(M.jsx)(X.a.Meta,{title:"".concat(c," - $").concat(a),description:"".concat(r.substring(0,40)," ...")})})]})};var pe=function(){var e=Object(n.useState)([]),t=Object(A.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(!1),s=Object(A.a)(r,2),o=s[0],i=s[1],l=Object(n.useState)(0),j=Object(A.a)(l,2),d=j[0],b=j[1],h=Object(n.useState)(1),p=Object(A.a)(h,2),O=p[0],m=p[1],x=Object(n.useCallback)((function(){i(!0),G("sold","desc",O).then((function(e){a(e.data),i(!1)})).catch((function(e){i(!1),u.b.error(e.message)}))}),[O]);return Object(n.useEffect)((function(){x()}),[x]),Object(n.useEffect)((function(){$().then((function(e){return b(e.data)})).catch((function(e){return console.log(e)}))}),[]),Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("h4",{className:"text-center p-3 mt-5 mb-5 display-4 jumbotron",children:"Best Sellers"}),Object(M.jsxs)("div",{className:"container",children:[o?Object(M.jsx)(te,{count:3}):Object(M.jsx)("div",{className:"row",children:c.map((function(e){return Object(M.jsx)("div",{className:"col-md-4",children:Object(M.jsx)(he,{product:e})},e._id)}))}),Object(M.jsx)("div",{className:"row",children:Object(M.jsx)("nav",{className:"col-md-4 offset-md-4 text-center pt-5 p-3 ",children:Object(M.jsx)(q.a,{current:O,total:d/3*10,onChange:function(e){return m(e)}})})})]})]})},Oe=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("".concat("https://techshop-tran.herokuapp.com/api","/categories"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),me=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("".concat("https://techshop-tran.herokuapp.com/api","/category/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xe=function(){var e=Object(l.a)(i.a.mark((function e(t,c){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.delete("".concat("https://techshop-tran.herokuapp.com/api","/category/").concat(t),{headers:{authtoken:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),fe=function(){var e=Object(l.a)(i.a.mark((function e(t,c,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.put("".concat("https://techshop-tran.herokuapp.com/api","/category/").concat(t),c,{headers:{authtoken:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c,n){return e.apply(this,arguments)}}(),ge=function(){var e=Object(l.a)(i.a.mark((function e(t,c){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.post("".concat("https://techshop-tran.herokuapp.com/api","/category"),t,{headers:{authtoken:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),ve=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("".concat("https://techshop-tran.herokuapp.com/api","/category/subs/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var Ne=function(){var e=Object(n.useState)([]),t=Object(A.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(!1),s=Object(A.a)(r,2),o=s[0],i=s[1];return Object(n.useEffect)((function(){i(!0),Oe().then((function(e){a(e.data),i(!1)})).catch((function(e){console.log(e),i(!1)}))}),[]),Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("h4",{className:"text-center p-3 mt-5 mb-5 display-4 jumbotron",children:"Categories"}),Object(M.jsx)("div",{className:"container",children:o?Object(M.jsx)(te,{count:3}):Object(M.jsx)("div",{className:"row",children:c.length&&c.map((function(e){return Object(M.jsx)("div",{className:"col btn btn-outlined-primary bt-lg btn-block btn-raised m-3",children:Object(M.jsx)(B.b,{to:"/category/".concat(e.slug),children:e.name})},e._id)}))})})]})},ye=c(1078),we=c(1079),ke=c(1080);var Se=function(){return Object(M.jsx)("footer",{style:{backgroundColor:"#f2f2f2"},children:Object(M.jsx)("div",{className:"container pt-5 pb-5",children:Object(M.jsxs)("div",{className:"row",children:[Object(M.jsxs)("div",{className:"col-6 col-md-3",children:[Object(M.jsx)("h3",{children:"Products"}),Object(M.jsxs)("ul",{children:[Object(M.jsx)("li",{children:Object(M.jsx)("a",{href:"/",children:"Help center"})}),Object(M.jsx)("li",{children:Object(M.jsx)("a",{href:"/",children:"Contact us"})}),Object(M.jsx)("li",{children:Object(M.jsx)("a",{href:"/",children:"Product help"})}),Object(M.jsx)("li",{children:Object(M.jsx)("a",{href:"/",children:"Warranty"})}),Object(M.jsx)("li",{children:Object(M.jsx)("a",{href:"/",children:"Order status"})})]})]}),Object(M.jsxs)("div",{className:"col-6 col-md-3",children:[Object(M.jsx)("h3",{children:"Services"}),Object(M.jsxs)("ul",{children:[Object(M.jsx)("li",{children:Object(M.jsx)("a",{href:"/",children:"Help center"})}),Object(M.jsx)("li",{children:Object(M.jsx)("a",{href:"/",children:"Contact us"})}),Object(M.jsx)("li",{children:Object(M.jsx)("a",{href:"/",children:"Product help"})}),Object(M.jsx)("li",{children:Object(M.jsx)("a",{href:"/",children:"Warranty"})}),Object(M.jsx)("li",{children:Object(M.jsx)("a",{href:"/",children:"Order status"})})]})]}),Object(M.jsxs)("div",{className:"col-6 col-md-3",children:[Object(M.jsx)("h3",{children:"Support"}),Object(M.jsxs)("ul",{children:[Object(M.jsx)("li",{children:Object(M.jsx)("a",{href:"/",children:"Help center"})}),Object(M.jsx)("li",{children:Object(M.jsx)("a",{href:"/",children:"Contact us"})}),Object(M.jsx)("li",{children:Object(M.jsx)("a",{href:"/",children:"Product help"})}),Object(M.jsx)("li",{children:Object(M.jsx)("a",{href:"/",children:"Warranty"})}),Object(M.jsx)("li",{children:Object(M.jsx)("a",{href:"/",children:"Order status"})})]})]}),Object(M.jsxs)("div",{className:"col-6 col-md-3 col-sm-12",children:[Object(M.jsxs)("div",{className:"contact",children:[Object(M.jsx)("h3",{className:"contact-header",children:"Tech Shop"}),Object(M.jsxs)("p",{children:[Object(M.jsx)("span",{children:Object(M.jsx)("a",{href:"/",children:Object(M.jsx)(ye.a,{})})})," ",Object(M.jsx)("span",{children:Object(M.jsx)("a",{href:"/",children:Object(M.jsx)(we.a,{})})})," ",Object(M.jsx)("span",{children:Object(M.jsx)("a",{href:"/",children:Object(M.jsx)(ke.a,{})})})]})]}),Object(M.jsxs)("div",{className:"subscribe",children:[Object(M.jsx)("input",{className:"form-control",type:"email",placeholder:"ENTER YOUR EMAIL"}),Object(M.jsx)("button",{className:"btn btn-primary",children:"subscribe"})]})]})]})})})};var Ce=function(){var e=Object(n.useState)([]),t=Object(A.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(!1),s=Object(A.a)(r,2),o=s[0],i=s[1],l=Object(n.useState)(0),j=Object(A.a)(l,2),d=j[0],b=j[1],h=Object(n.useState)(1),p=Object(A.a)(h,2),O=p[0],m=p[1],x=Object(n.useCallback)((function(){i(!0),G("createdAt","desc",O).then((function(e){a(e.data),i(!1)})).catch((function(e){i(!1),u.b.error(e.message)}))}),[O]);return Object(n.useEffect)((function(){x()}),[x]),Object(n.useEffect)((function(){$().then((function(e){return b(e.data)})).catch((function(e){return console.log(e)}))}),[]),Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("h4",{className:"text-center p-3 mb-5 display-4 jumbotron",children:"New Arrivals"}),Object(M.jsxs)("div",{className:"container",children:[o?Object(M.jsx)(te,{count:3}):Object(M.jsx)("div",{className:"row",children:c.map((function(e){return Object(M.jsx)("div",{className:"col-md-4",children:Object(M.jsx)(he,{product:e})},e._id)}))}),Object(M.jsx)("div",{className:"row",children:Object(M.jsx)("nav",{className:"col-md-4 offset-md-4 text-center pt-5 p-3 ",children:Object(M.jsx)(q.a,{current:O,total:d/3*10,onChange:function(e){return m(e)}})})})]})]})},Pe=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("".concat("https://techshop-tran.herokuapp.com/api","/subs"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_e=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("".concat("https://techshop-tran.herokuapp.com/api","/sub/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(l.a)(i.a.mark((function e(t,c){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.delete("".concat("https://techshop-tran.herokuapp.com/api","/sub/").concat(t),{headers:{authtoken:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),Te=function(){var e=Object(l.a)(i.a.mark((function e(t,c,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.put("".concat("https://techshop-tran.herokuapp.com/api","/sub/").concat(t),c,{headers:{authtoken:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c,n){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(l.a)(i.a.mark((function e(t,c){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.post("".concat("https://techshop-tran.herokuapp.com/api","/sub"),t,{headers:{authtoken:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}();var Ae=function(){var e=Object(n.useState)([]),t=Object(A.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(!1),s=Object(A.a)(r,2),o=s[0],i=s[1];return Object(n.useEffect)((function(){i(!0),Pe().then((function(e){a(e.data),i(!1)})).catch((function(e){console.log(e),i(!1)}))}),[]),Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("h4",{className:"text-center p-3 mt-5 mb-5 display-4 jumbotron",children:"SubCategories"}),Object(M.jsx)("div",{className:"container",children:o?Object(M.jsx)(te,{count:3}):Object(M.jsx)("div",{className:"row",children:c.length&&c.map((function(e){return Object(M.jsx)("div",{className:"col btn btn-outlined-primary bt-lg btn-block btn-raised m-3",children:Object(M.jsx)(B.b,{to:"/sub/".concat(e.slug),children:e.name})},e._id)}))})})]})},De=function(){return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(U,{}),Object(M.jsx)(Ce,{}),Object(M.jsx)("br",{}),Object(M.jsx)("br",{}),Object(M.jsx)(pe,{}),Object(M.jsx)("br",{}),Object(M.jsx)("br",{}),Object(M.jsx)(Ne,{}),Object(M.jsx)("br",{}),Object(M.jsx)("br",{}),Object(M.jsx)(Ae,{}),Object(M.jsx)("br",{}),Object(M.jsx)("br",{}),Object(M.jsx)(Se,{})]})},Le=c(117),Ie=c(1081),Re=c(1082),Be=c(174),Me=function(e){var t=e.history,c=Object(n.useState)("tran.ttxuan91@gmail.com"),a=Object(A.a)(c,2),r=a[0],s=a[1],o=Object(n.useState)("tx00112233"),j=Object(A.a)(o,2),d=j[0],b=j[1],h=Object(n.useState)(!1),p=Object(A.a)(h,2),O=p[0],m=p[1],x=Object(w.b)(),f=Object(w.c)((function(e){return e.user}));Object(n.useEffect)((function(){t.location.state||f&&f.token&&t.push("/")}),[t,f]);var g=function(e){var c=t.location.state;c?t.push(c.from):"admin"===e.data.role?t.push("/admin/dashboard"):t.push("/user/history")},v=function(){var e=Object(l.a)(i.a.mark((function e(t){var c,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.user,e.next=3,c.getIdTokenResult();case 3:n=e.sent,E(n.token).then((function(e){var t=e.data,c=t.email,a=t.name,r=t.role,s=t._id,o=n.token;x(N(c,a,r,s,o)),g(e)})).catch((function(e){return u.b.error(e.message)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(l.a)(i.a.mark((function e(t){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),m(!0),console.log(r,d),e.prev=3,e.next=6,S.signInWithEmailAndPassword(r,d);case 6:return c=e.sent,e.next=9,v(c);case 9:e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),u.b.error(e.t0.message),m(!1);case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S.signInWithPopup(C).then(function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){u.b.error(e.message)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(M.jsx)("div",{className:"container p-5",children:Object(M.jsx)("div",{className:"row",children:Object(M.jsxs)("div",{className:"col-md-6 offset-md-3",children:[O?Object(M.jsxs)("h4",{className:"text-danger",children:[Object(M.jsx)(Le.a,{})," Loading ..."]}):Object(M.jsx)("h4",{children:"Login"}),Object(M.jsxs)("form",{action:"",onSubmit:y,children:[Object(M.jsx)("div",{className:"form-group",children:Object(M.jsx)("input",{type:"email",className:"form-control",value:r,onChange:function(e){return s(e.target.value)},placeholder:"Enter email",autoFocus:!0})}),Object(M.jsx)("div",{className:"form-group",children:Object(M.jsx)("input",{type:"password",className:"form-control",value:d,onChange:function(e){return b(e.target.value)},placeholder:"Enter password",autoFocus:!0})}),Object(M.jsx)("div",{className:"form-group",children:Object(M.jsx)(Be.a,{type:"primary",shape:"round",block:!0,icon:Object(M.jsx)(Ie.a,{}),size:"large",disabled:!r||d.length<6,htmlType:"submit",children:"Login with your email and password"})}),Object(M.jsxs)("div",{className:"form-group",children:[Object(M.jsx)(Be.a,{type:"danger",shape:"round",block:!0,icon:Object(M.jsx)(Re.a,{}),size:"large",onClick:k,children:"Login with Google"}),Object(M.jsx)("div",{className:"form-group",children:Object(M.jsx)(B.b,{to:"/forgot/password",className:"float-right text-danger",children:"Forgot Password"})})]})]})]})})})},Ue=function(){var e=Object(n.useState)("tran.ttxuan91@gmail.com"),t=Object(A.a)(e,2),c=t[0],a=t[1];return Object(M.jsx)("div",{className:"container p-5",children:Object(M.jsx)("div",{className:"row",children:Object(M.jsxs)("div",{className:"col-md-6 offset-md-3",children:[Object(M.jsx)("h4",{children:"Register"}),Object(M.jsxs)("form",{action:"",onSubmit:function(e){e.preventDefault();S.sendSignInLinkToEmail(c,{url:"https://techshop-tran.herokuapp.com/register/complete",handleCodeInApp:!0}).then((function(){window.localStorage.setItem("emailForRegistration",c),u.b.success("Email is sent to ".concat(c,". Click the link to complete your registration"))})).catch((function(e){u.b.error(e.message)}))},children:[Object(M.jsx)("input",{type:"email",className:"form-control mb-2",value:c,onChange:function(e){return a(e.target.value)},placeholder:"Enter email",autoFocus:!0}),Object(M.jsx)("button",{type:"submit",className:"btn btn-raised btn-primary",children:"Register"})]})]})})})},qe=c(1069),Ve=c(1073),ze=c(1083),We=c(1084),Ye=c(1085),He=c(1086),Ge=c(1087),$e=c(1088),Ke=c(505);var Je=function(){var e=Object(w.c)((function(e){return e.search})).text,t=Object(w.b)(),c=Object(j.f)(),n=function(t){t.preventDefault(),c.push("/shop?".concat(e))};return Object(M.jsxs)("form",{action:"post",onSubmit:n,className:"form-inline my-2 my-lg-0",children:[Object(M.jsx)("input",{type:"search",className:"form-control mr-sm-2",placeholder:"Search",value:e,onChange:function(e){var c;t((c=e.target.value,function(e){e({type:h,payload:{text:c}})}))}}),Object(M.jsx)(Ke.a,{onClick:n,style:{cursor:"pointer"}})]})},Qe=qe.a.SubMenu,Ze=qe.a.Item,Xe=function(){var e=Object(n.useState)("home"),t=Object(A.a)(e,2),c=t[0],a=t[1],r=Object(w.b)(),s=Object(j.f)(),o=Object(w.c)((function(e){return e.user})),u=Object(w.c)((function(e){return e.cart})),d=function(){return u.reduce((function(e,t){return e+t.count}),0)},h=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.signOut();case 2:r((function(e){e({type:b,payload:null})})),s.push("/login");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(M.jsxs)(qe.a,{onClick:function(e){a(e.key)},selectedKeys:c,mode:"horizontal",children:[Object(M.jsx)(Ze,{icon:Object(M.jsx)(ze.a,{}),children:Object(M.jsx)(B.b,{to:"/",children:"Home"})},"home"),Object(M.jsx)(Ze,{icon:Object(M.jsx)(We.a,{}),children:Object(M.jsx)(B.b,{to:"/shop",children:"Shop"})},"shop"),Object(M.jsx)(Ze,{icon:Object(M.jsx)(ie.a,{}),children:Object(M.jsx)(B.b,{to:"/cart",children:Object(M.jsx)(Ve.a,{overflowCount:500,count:d(),offset:[function(){var e=d();return e<10?9:e<100?16:20}(),0],children:"Cart"})})},"cart"),!o&&Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(Ze,{icon:Object(M.jsx)(Ye.a,{}),className:"float-right",children:Object(M.jsx)(B.b,{to:"/register",children:"Register"})},"register"),Object(M.jsx)(Ze,{icon:Object(M.jsx)(He.a,{}),className:"float-right",children:Object(M.jsx)(B.b,{to:"/login",children:"Login"})},"login")]}),o&&Object(M.jsxs)(Qe,{icon:Object(M.jsx)(Ge.a,{}),title:o.email&&o.email.split("@")[0],className:"float-right",children:[o&&"subscriber"===o.role&&Object(M.jsx)(Ze,{children:Object(M.jsx)(B.b,{to:"/user/history",children:"Dashboard"})},"dashboard"),o&&"admin"===o.role&&Object(M.jsx)(Ze,{children:Object(M.jsx)(B.b,{to:"/admin/dashboard",children:"Dashboard"})},"dashboard"),Object(M.jsx)(Ze,{icon:Object(M.jsx)($e.a,{}),onClick:h,children:"Logout"},"logout")]},"user"),Object(M.jsx)("span",{className:"float-right p-1",children:Object(M.jsx)(Je,{})})]})},et=c(1071);var tt=function(){var e=Object(w.c)((function(e){return Object(oe.a)({},e)})),t=e.cart,c=e.drawer,n=Object(w.b)(),a=function(){n(de(!1))},r={width:"100%",height:"50px",objectFit:"cover"};return Object(M.jsxs)(et.a,{title:"Cart: ".concat(t.length," Product").concat(t.length>1&&"s"),closable:!1,onClose:a,visible:c,children:[t.map((function(e){return Object(M.jsx)("div",{className:"row",children:Object(M.jsxs)("div",{className:"col",children:[Object(M.jsx)("img",{src:e.images[0]?e.images[0].url:ce,style:r,alt:e.title}),Object(M.jsxs)("p",{className:"text-center bg-secondary text-light",children:[e.title," x ",Object(M.jsx)("strong",{children:e.count})]})]})},e._id)})),Object(M.jsx)(B.b,{to:"/cart",children:Object(M.jsx)("button",{onClick:a,className:"text-center btn btn-primary btn-raised btn-block",children:"Go to Cart"})})]})},ct=function(e){var t=e.history,c=Object(n.useState)(""),a=Object(A.a)(c,2),r=a[0],s=a[1],o=Object(n.useState)(""),j=Object(A.a)(o,2),d=j[0],b=j[1],h=Object(w.b)();Object(n.useEffect)((function(){s(window.localStorage.getItem("emailForRegistration"))}),[]);var p=function(){var e=Object(l.a)(i.a.mark((function e(c){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),r&&d){e.next=4;break}return u.b.error("Email and password is required"),e.abrupt("return");case 4:if(!(d.length<6)){e.next=7;break}return u.b.error("Password must be at least 6 characters long"),e.abrupt("return");case 7:return e.prev=7,e.next=10,S.signInWithEmailLink(r,window.location.href);case 10:if(!e.sent.user.emailVerified){e.next=21;break}return window.localStorage.removeItem("emailForRegistration"),n=S.currentUser,e.next=16,n.updatePassword(d);case 16:return e.next=18,n.getIdTokenResult();case 18:a=e.sent,E(a.token).then((function(e){var t=e.data,c=t.email,n=t.name,r=t.role,s=t._id,o=a.token;h(N(c,n,r,s,o))})).catch((function(e){return u.b.error(e.message)})),t.push("/");case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(7),console.log(e.t0),u.b.error(e.t0.message);case 27:case"end":return e.stop()}}),e,null,[[7,23]])})));return function(t){return e.apply(this,arguments)}}();return Object(M.jsx)("div",{className:"container p-5",children:Object(M.jsx)("div",{className:"row",children:Object(M.jsxs)("div",{className:"col-md-6 offset-md-3",children:[Object(M.jsx)("h4",{children:"   Complete Register"}),Object(M.jsxs)("form",{action:"",onSubmit:p,children:[Object(M.jsx)("input",{type:"email",className:"form-control mb-2",value:r,disabled:r,placeholder:"Enter email",onChange:function(e){return s(e.target.value)},name:"email",autoFocus:!0}),Object(M.jsx)("input",{type:"password",className:"form-control mb-2",value:d,onChange:function(e){return b(e.target.value)},placeholder:"Enter password",name:"password",autoFocus:!0}),Object(M.jsx)("button",{type:"submit",className:"btn btn-raised btn-primary",children:"Complete Register"})]})]})})})},nt=function(e){var t=e.history,c=Object(n.useState)("tran.ttxuan91@gmail.com"),a=Object(A.a)(c,2),r=a[0],s=a[1],o=Object(n.useState)(!1),j=Object(A.a)(o,2),d=j[0],b=j[1],h=Object(w.c)((function(e){return e.user}));Object(n.useEffect)((function(){h&&h.token&&t.push("/")}),[h,t]);var p=function(){var e=Object(l.a)(i.a.mark((function e(t){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),b(!0),c={url:"https://techshop-tran.herokuapp.com/login",handleCodeInApp:!0},e.next=5,S.sendPasswordResetEmail(r,c).then((function(){b(!1),s(""),u.b.success("Check your email for password reset link")})).catch((function(e){console.log(e),b(!1),u.b.error(e.message)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(M.jsxs)("div",{className:"container col-md-6 offset-md-3 p-5",children:[d?Object(M.jsxs)("h4",{className:"text-danger",children:[Object(M.jsx)(Le.a,{})," Loading ..."]}):Object(M.jsx)("h4",{children:"Forgot Password"}),Object(M.jsxs)("form",{onSubmit:p,children:[Object(M.jsx)("div",{className:"form-group",children:Object(M.jsx)("input",{type:"email",className:"form-control",value:r,onChange:function(e){return s(e.target.value)},placeholder:"Type your email",autoFocus:!0})}),Object(M.jsx)("div",{className:"form-group",children:Object(M.jsx)(Be.a,{type:"primary",size:"large",shape:"round",disabled:!r,block:!0,htmlType:"submit",children:"Submit"})})]})]})},at=c(225),rt=c(226);var st=function(e){var t=e.order,c=e.showStatus,n=void 0===c||c;return Object(M.jsx)("div",{children:Object(M.jsxs)("p",{children:[Object(M.jsxs)("span",{children:["Order Id: ",t.paymentIntent.id]})," / ",Object(M.jsxs)("span",{children:["Amount: ",(t.paymentIntent.amount/100).toLocaleString("en-US",{style:"currency",currency:"EUR"})]})," ",Object(M.jsxs)("span",{children:["Currency: ",t.paymentIntent.currency.toUpperCase()]})," / ",Object(M.jsxs)("span",{children:["Method: ",t.paymentIntent.payment_method_types[0]]})," / ",Object(M.jsxs)("span",{children:["Payment: ",t.paymentIntent.status.toUpperCase()]})," / ",Object(M.jsx)("br",{}),Object(M.jsxs)("span",{children:["Ordered on: ",new Date(1e3*t.paymentIntent.created).toLocaleString()]})," / ",Object(M.jsx)("br",{}),n&&Object(M.jsxs)("span",{className:"badge bg-primary text-white",children:["STATUS: ",t.orderStatus]})]})})},ot=function(){return Object(M.jsx)("nav",{children:Object(M.jsxs)("ul",{className:"nav flex-column",children:[Object(M.jsx)("li",{className:"nav-item",children:Object(M.jsx)(B.b,{to:"/user/history",className:"nav-link",children:"History"})}),Object(M.jsx)("li",{className:"nav-item",children:Object(M.jsx)(B.b,{to:"/user/password",className:"nav-link",children:"Password"})}),Object(M.jsx)("li",{className:"nav-item",children:Object(M.jsx)(B.b,{to:"/user/wishlist",className:"nav-link",children:"Wishlist"})})]})})},it=function(){var e=Object(l.a)(i.a.mark((function e(t,c){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.post("".concat("https://techshop-tran.herokuapp.com/api","/user/cart"),{cart:t},{headers:{authtoken:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),lt=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("".concat("https://techshop-tran.herokuapp.com/api","/user/cart"),{headers:{authtoken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ut=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.delete("".concat("https://techshop-tran.herokuapp.com/api","/user/cart"),{headers:{authtoken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),jt=function(){var e=Object(l.a)(i.a.mark((function e(t,c){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.post("".concat("https://techshop-tran.herokuapp.com/api","/user/address"),{address:c},{headers:{authtoken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),dt=function(){var e=Object(l.a)(i.a.mark((function e(t,c){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.post("".concat("https://techshop-tran.herokuapp.com/api","/user/cart/coupon"),{name:t},{headers:{authtoken:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),bt=function(){var e=Object(l.a)(i.a.mark((function e(t,c){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.post("".concat("https://techshop-tran.herokuapp.com/api","/user/order"),{stripeResponse:t},{headers:{authtoken:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),ht=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("".concat("https://techshop-tran.herokuapp.com/api","/user/order"),{headers:{authtoken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pt=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("".concat("https://techshop-tran.herokuapp.com/api","/user/wishlist"),{headers:{authtoken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ot=function(){var e=Object(l.a)(i.a.mark((function e(t,c){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.post("".concat("https://techshop-tran.herokuapp.com/api","/user/wishlist"),{productId:t},{headers:{authtoken:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),mt=function(){var e=Object(l.a)(i.a.mark((function e(t,c){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.post("".concat("https://techshop-tran.herokuapp.com/api","/user/wishlist/").concat(t),{},{headers:{authtoken:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),xt=c(53),ft=c(60),gt=xt.StyleSheet.create({body:{paddingTop:35,paddingBottom:65,paddingHorizontal:35},title:{fontSize:24,textAlign:"center"},author:{fontSize:12,textAlign:"center",marginBottom:40},subtitle:{fontSize:18,margin:12},text:{margin:12,fontSize:14,textAlign:"justify"},image:{marginVertical:15,marginHorizontal:100},header:{fontSize:12,marginBottom:20,textAlign:"center",color:"grey"},footer:{padding:"100px",fontSize:12,marginBottom:20,textAlign:"center",color:"grey"},pageNumber:{position:"absolute",fontSize:12,bottom:30,left:0,right:0,textAlign:"center",color:"grey"}});var vt=function(e){var t=e.order;return Object(M.jsx)(xt.Document,{children:Object(M.jsxs)(xt.Page,{style:gt.body,children:[Object(M.jsxs)(xt.Text,{style:gt.header,fixed:!0,children:[" "," ----- ",(new Date).toLocaleString()," ----- "," "]}),Object(M.jsx)(xt.Text,{style:gt.title,children:"Order Invoice"}),Object(M.jsx)(xt.Text,{style:gt.author,children:"Order Redux E-commerce"}),Object(M.jsx)(xt.Text,{style:gt.subtitle,children:"Order Summary"}),Object(M.jsx)(ft.Table,{children:Object(M.jsxs)(ft.TableHeader,{children:[Object(M.jsx)(ft.TableCell,{children:"Title"}),Object(M.jsx)(ft.TableCell,{children:"Price"}),Object(M.jsx)(ft.TableCell,{children:"Quantity"}),Object(M.jsx)(ft.TableCell,{children:"Brand"}),Object(M.jsx)(ft.TableCell,{children:"Color"})]})}),Object(M.jsx)(ft.Table,{data:t.products,children:Object(M.jsxs)(ft.TableBody,{children:[Object(M.jsx)(ft.DataTableCell,{getContent:function(e){return e.product.title}}),Object(M.jsx)(ft.DataTableCell,{getContent:function(e){return"$".concat(e.product.price)}}),Object(M.jsx)(ft.DataTableCell,{getContent:function(e){return e.count}}),Object(M.jsx)(ft.DataTableCell,{getContent:function(e){return e.product.brand}}),Object(M.jsx)(ft.DataTableCell,{getContent:function(e){return e.product.color}})]})}),Object(M.jsxs)(xt.Text,{style:gt.text,children:["Date: ",new Date(1e3*t.paymentIntent.created).toLocaleString()]}),Object(M.jsxs)(xt.Text,{style:gt.text,children:["Order Id: ",t.paymentIntent.id]}),Object(M.jsxs)(xt.Text,{style:gt.text,children:["Order status: ",t.orderStatus]}),Object(M.jsxs)(xt.Text,{style:gt.text,children:["Total Paid: ",(t.paymentIntent.amount/100).toLocaleString("en-US",{style:"currency",currency:"EUR"})]}),Object(M.jsx)(xt.Text,{style:gt.footer,children:"Thank you for shopping with us"})]})})},Nt=function(){var e=Object(n.useState)([]),t=Object(A.a)(e,2),c=t[0],a=t[1],r=Object(w.c)((function(e){return e.user}));Object(n.useEffect)((function(){ht(r.token).then((function(e){a(e.data)})).catch((function(e){}))}),[]);var s=function(e){return Object(M.jsxs)("table",{className:"table table-bordered",children:[Object(M.jsx)("thead",{className:"thead-light",children:Object(M.jsxs)("tr",{children:[Object(M.jsx)("th",{scope:"col",children:"Title"}),Object(M.jsx)("th",{scope:"col",children:"Price"}),Object(M.jsx)("th",{scope:"col",children:"Brand"}),Object(M.jsx)("th",{scope:"col",children:"Color"}),Object(M.jsx)("th",{scope:"col",children:"Count"}),Object(M.jsx)("th",{scope:"col",children:"Shipping"})]})}),Object(M.jsx)("tbody",{children:e.products.map((function(e,t){var c=e.product,n=e.color,a=e.count;return Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{children:c.title}),Object(M.jsx)("td",{children:c.price}),Object(M.jsx)("td",{children:c.brand}),Object(M.jsx)("td",{children:n}),Object(M.jsx)("td",{children:a}),Object(M.jsx)("td",{children:"Yes"===c.shipping?Object(M.jsx)(at.a,{style:{color:"green"}}):Object(M.jsx)(rt.a,{style:{color:"red"}})})]},t)}))})]})},o=function(e){return Object(M.jsx)(xt.PDFDownloadLink,{document:Object(M.jsx)(vt,{order:e}),fileName:"invoice.pdf",className:"btn btn-sm btn-block btn-outline-primary",children:"Download PDF"})};return Object(M.jsx)("div",{className:"container-fluid",children:Object(M.jsxs)("div",{className:"row",children:[Object(M.jsx)("div",{className:"col-md-2",children:Object(M.jsx)(ot,{})}),Object(M.jsxs)("div",{className:"col text-center ",children:[Object(M.jsx)("h4",{children:c.length>0?"User purchase orders":"No purchase order"}),c.map((function(e,t){return Object(M.jsxs)("div",{className:"m-5 p-3 card",children:[Object(M.jsx)(st,{order:e}),s(e),Object(M.jsx)("div",{className:"row",children:Object(M.jsx)("div",{className:"col",children:o(e)})})]},t)}))]})]})})},yt=c(223),wt=function(){var e=Object(n.useState)(5),t=Object(A.a)(e,2),c=t[0],a=t[1],r=Object(j.f)();return Object(n.useEffect)((function(){var e=setInterval((function(){a((function(e){return--e}))}),1e3);return 0===c&&r.push("/"),function(){return clearInterval(e)}}),[c,r]),Object(M.jsx)("div",{className:"container p-5 text-center",children:Object(M.jsxs)("p",{children:["Redirecting you in ",c," seconds"]})})},kt=function(e){var t=e.children,c=Object(yt.a)(e,["children"]),n=Object(w.c)((function(e){return e.user}));return n&&n.token?Object(M.jsx)(j.a,Object(oe.a)(Object(oe.a)({},c),{},{render:function(){return t}})):Object(M.jsx)(wt,{})},St=c(1089),Ct=function(){var e=Object(n.useState)([]),t=Object(A.a)(e,2),c=t[0],a=t[1],r=Object(w.c)((function(e){return e.user})),s=Object(n.useCallback)((function(){pt(r.token).then((function(e){console.log(e.data),a(e.data.wishlist)})).catch((function(e){return console.log(e)}))}));return Object(n.useEffect)((function(){s()}),[]),Object(M.jsx)("div",{className:"container-fluid",children:Object(M.jsxs)("div",{className:"row",children:[Object(M.jsx)("div",{className:"col-md-2",children:Object(M.jsx)(ot,{})}),Object(M.jsxs)("div",{className:"col",children:[Object(M.jsx)("h4",{children:"Wishlist"}),0===c.length?Object(M.jsx)("h4",{children:"No product"}):Object(M.jsx)(M.Fragment,{children:c.map((function(e){return Object(M.jsxs)("div",{className:"alert alert-secondary",children:[Object(M.jsx)(B.b,{to:"/product/".concat(e.slug),children:e.title}),Object(M.jsx)("p",{onClick:function(){return t=e._id,void mt(t,r.token).then((function(e){return a(e.data.wishlist)})).catch((function(e){return console.log(e)}));var t},className:"btn btn-sm float-right",children:Object(M.jsx)(St.a,{})})]},e._id)}))})]})]})})},Pt=function(){var e=Object(n.useState)(""),t=Object(A.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(""),s=Object(A.a)(r,2),o=s[0],i=s[1];return Object(M.jsx)("div",{className:"container-fluid",children:Object(M.jsxs)("div",{className:"row",children:[Object(M.jsx)("div",{className:"col-md-2",children:Object(M.jsx)(ot,{})}),Object(M.jsxs)("div",{className:"col",children:[Object(M.jsx)("h4",{children:"Password Update"}),Object(M.jsx)("form",{onSubmit:function(e){e.preventDefault(),i(!0),S.currentUser.updatePassword(c).then((function(){i(!1),a(""),u.b.success("Password updated")})).catch((function(e){console.log(e),u.b.error(e.message),i(!1)}))},children:Object(M.jsxs)("div",{className:"form-group",children:[Object(M.jsx)("label",{children:"Your password"}),Object(M.jsx)("input",{type:"password",onChange:function(e){return a(e.target.value)},className:"form-control",placeholder:"Enter new password",value:c,disabled:o}),Object(M.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:!c||c.length<6||o,children:o?Object(M.jsxs)("h4",{className:"text-danger",children:[Object(M.jsx)(Le.a,{})," Loading ..."]}):"Submit"})]})})]})]})})},_t=function(e){var t=e.children,c=Object(yt.a)(e,["children"]),a=Object(w.c)((function(e){return e.user})),r=Object(n.useState)(!1),s=Object(A.a)(r,2),o=s[0],i=s[1];return Object(n.useEffect)((function(){a&&a.token&&F(a.token).then((function(e){i(!0)})).catch((function(e){console.log(e)}))}),[a]),o?Object(M.jsx)(j.a,Object(oe.a)(Object(oe.a)({},c),{},{render:function(){return t}})):Object(M.jsx)(wt,{})},Et=function(){return Object(M.jsx)("nav",{children:Object(M.jsxs)("ul",{className:"nav flex-column",children:[Object(M.jsx)("li",{className:"nav-item",children:Object(M.jsx)(B.b,{to:"/admin/dashboard",className:"nav-link",children:"Dashboard"})}),Object(M.jsx)("li",{className:"nav-item",children:Object(M.jsx)(B.b,{to:"/admin/product",className:"nav-link",children:"Product"})}),Object(M.jsx)("li",{className:"nav-item",children:Object(M.jsx)(B.b,{to:"/admin/products",className:"nav-link",children:"Products"})}),Object(M.jsx)("li",{className:"nav-item",children:Object(M.jsx)(B.b,{to:"/admin/category",className:"nav-link",children:"Category"})}),Object(M.jsx)("li",{className:"nav-item",children:Object(M.jsx)(B.b,{to:"/admin/sub",className:"nav-link",children:"Sub category"})}),Object(M.jsx)("li",{className:"nav-item",children:Object(M.jsx)(B.b,{to:"/admin/coupon",className:"nav-link",children:"Coupon"})}),Object(M.jsx)("li",{className:"nav-item",children:Object(M.jsx)(B.b,{to:"/admin/password",className:"nav-link",children:"Password"})})]})})};var Tt=function(e){var t=e.orders,c=e.handleStatusChange;return Object(M.jsx)(M.Fragment,{children:t.map((function(e){return Object(M.jsx)("div",{className:"row pb-5",children:Object(M.jsxs)("div",{className:"btn btn-block bg-light",children:[Object(M.jsx)(st,{order:e,showStatus:!1}),Object(M.jsxs)("div",{className:"row",children:[Object(M.jsx)("div",{className:"col-md-4 fw-bold",children:"Delivery Status"}),Object(M.jsx)("div",{className:"col-md-8",children:Object(M.jsxs)("select",{className:"form-control",name:"status",defaultValue:e.orderStatus,onChange:function(t){return c(e._id,t.target.value)},children:[Object(M.jsx)("option",{value:"Not Processed",children:"Not Processed"}),Object(M.jsx)("option",{value:"Processing",children:"Processing"}),Object(M.jsx)("option",{value:"Dispatched",children:"Dispatched"}),Object(M.jsx)("option",{value:"Cancelled",children:"Cancelled"}),Object(M.jsx)("option",{value:"Completed",children:"Completed"})]})})]}),Object(M.jsxs)("table",{className:"table table-bordered mt-3",children:[Object(M.jsx)("thead",{className:"thead-light",children:Object(M.jsxs)("tr",{children:[Object(M.jsx)("th",{scope:"col",children:"Title"}),Object(M.jsx)("th",{scope:"col",children:"Price"}),Object(M.jsx)("th",{scope:"col",children:"Brand"}),Object(M.jsx)("th",{scope:"col",children:"Color"}),Object(M.jsx)("th",{scope:"col",children:"Count"}),Object(M.jsx)("th",{scope:"col",children:"Shipping"})]})}),Object(M.jsx)("tbody",{children:e.products.map((function(e,t){var c=e.product,n=e.color,a=e.count;return Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{children:c.title}),Object(M.jsx)("td",{children:c.price}),Object(M.jsx)("td",{children:c.brand}),Object(M.jsx)("td",{children:n}),Object(M.jsx)("td",{children:a}),Object(M.jsx)("td",{children:"Yes"===c.shipping?Object(M.jsx)(at.a,{style:{color:"green"}}):Object(M.jsx)(rt.a,{style:{color:"red"}})})]},t)}))})]})]})},e._id)}))})},Ft=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("".concat("https://techshop-tran.herokuapp.com/api","/admin/orders"),{headers:{authtoken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),At=function(){var e=Object(l.a)(i.a.mark((function e(t,c,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.put("".concat("https://techshop-tran.herokuapp.com/api","/admin/order-status"),{orderId:t,orderStatus:c},{headers:{authtoken:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c,n){return e.apply(this,arguments)}}(),Dt=function(){var e=Object(n.useState)([]),t=Object(A.a)(e,2),c=t[0],a=t[1],r=Object(w.c)((function(e){return e.user})),s=Object(n.useCallback)((function(){Ft(r.token).then((function(e){return a(e.data)}))}));Object(n.useEffect)((function(){s()}),[]);return Object(M.jsx)("div",{className:"container-fluid",children:Object(M.jsxs)("div",{className:"row",children:[Object(M.jsx)("div",{className:"col-md-2",children:Object(M.jsx)(Et,{})}),Object(M.jsxs)("div",{className:"col-md-10",children:[Object(M.jsx)("h4",{children:"Admin Dashboard"}),Object(M.jsx)(Tt,{orders:c,handleStatusChange:function(e,t){At(e,t,r.token).then((function(e){u.b.success("Status updated"),s()})).catch((function(e){return u.b.error(e)}))}})]})]})})},Lt=c(1090),It=function(e){var t=e.name,c=e.handleSubmit,n=e.setName;return Object(M.jsx)("form",{onSubmit:c,children:Object(M.jsxs)("div",{className:"form-group",children:[Object(M.jsx)("label",{children:"Name"}),Object(M.jsx)("input",{type:"text",className:"form-control",onChange:function(e){return n(e.target.value)},value:t,required:!0}),Object(M.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})})},Rt=function(e){var t=e.keyword,c=e.setKeyword;return Object(M.jsx)("input",{type:"search",placeholder:"Filter",value:t,onChange:function(e){e.preventDefault(),c(e.target.value.toLowerCase())},className:"form-control md-4"})},Bt=function(){var e=Object(n.useState)(""),t=Object(A.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(!1),s=Object(A.a)(r,2),o=s[0],i=s[1],l=Object(w.c)((function(e){return e.user})),j=Object(n.useState)([]),d=Object(A.a)(j,2),b=d[0],h=d[1],p=Object(n.useState)(""),O=Object(A.a)(p,2),m=O[0],x=O[1],f=Object(n.useCallback)((function(){Oe().then((function(e){console.log(e.data),h(e.data)})).catch((function(e){return u.b.error(e.response.data.message)}))}),[]);return Object(n.useEffect)((function(){f()}),[f]),Object(M.jsx)("div",{className:"container-fluid",children:Object(M.jsxs)("div",{className:"row",children:[Object(M.jsx)("div",{className:"col-md-2",children:Object(M.jsx)(Et,{})}),Object(M.jsxs)("div",{className:"col",children:[o?Object(M.jsxs)("h4",{className:"text-danger",children:[" ",Object(M.jsx)(Le.a,{}),"Loading ... "]}):Object(M.jsx)("h4",{children:"Create Category"}),Object(M.jsx)(It,{name:c,handleSubmit:function(e){e.preventDefault(),i(!0),ge({name:c},l.token).then((function(e){i(!1),a(""),u.b.success("".concat(e.data.name," is created")),f()})).catch((function(e){i(!1),u.b.error(e.response.data.message)}))},setName:a}),Object(M.jsx)(Rt,{keyword:m,setKeyword:x}),Object(M.jsx)("br",{}),Object(M.jsx)("div",{children:b.filter(function(e){return function(t){return t.name.toLowerCase().includes(e)}}(m)).map((function(e){return Object(M.jsxs)("div",{className:"alert alert-primary flex-column",children:[e.name,Object(M.jsx)("span",{className:"btn btn-sm float-right",onClick:function(t){return function(e,t){window.confirm("Are you sure to delete ".concat(t," category?"))&&(i(!0),xe(e,l.token).then((function(e){u.b.success("".concat(t," deleted")),i(!1),f()})).catch((function(e){i(!1),u.b.error(e.response.data.message)})))}(e.slug,e.name)},children:Object(M.jsx)(St.a,{className:" text-warning"})}),Object(M.jsx)("span",{className:"btn btn-sm float-right",children:Object(M.jsx)(B.b,{to:"/admin/category/".concat(e.slug),children:Object(M.jsx)(Lt.a,{className:"text-danger"})})})]},e._id)}))})]})]})})},Mt=function(e){var t=e.history,c=e.match,a=Object(n.useState)(""),r=Object(A.a)(a,2),s=r[0],o=r[1],i=Object(n.useState)(!1),l=Object(A.a)(i,2),j=l[0],d=l[1],b=Object(w.c)((function(e){return e.user})),h=Object(n.useCallback)((function(){me(c.params.slug).then((function(e){return o(e.data.name)})).catch((function(e){return console.log(e)}))}),[c.params.slug]);return Object(n.useEffect)((function(){h()}),[h]),Object(M.jsx)("div",{className:"container-fluid",children:Object(M.jsxs)("div",{className:"row",children:[Object(M.jsx)("div",{className:"col-md-2",children:Object(M.jsx)(Et,{})}),Object(M.jsxs)("div",{className:"col",children:[j?Object(M.jsxs)("h4",{className:"text-danger",children:[" ",Object(M.jsx)(Le.a,{}),"Loading ... "]}):Object(M.jsx)("h4",{children:"Create Category"}),Object(M.jsx)(It,{name:s,handleSubmit:function(e){e.preventDefault(),d(!0),fe(c.params.slug,{name:s},b.token).then((function(e){d(!1),o(""),u.b.success("".concat(e.data.name," is updated")),t.push("/admin/category")})).catch((function(e){d(!1),u.b.error(e.message)}))},setName:o})]})]})})},Ut=function(){var e=Object(n.useState)(""),t=Object(A.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(!1),s=Object(A.a)(r,2),o=s[0],i=s[1],l=Object(w.c)((function(e){return e.user})),j=Object(n.useState)([]),d=Object(A.a)(j,2),b=d[0],h=d[1],p=Object(n.useState)(""),O=Object(A.a)(p,2),m=O[0],x=O[1],f=Object(n.useState)([]),g=Object(A.a)(f,2),v=g[0],N=g[1],y=Object(n.useState)(""),k=Object(A.a)(y,2),S=k[0],C=k[1],P=Object(n.useCallback)((function(){Pe().then((function(e){return h(e.data)})).catch((function(e){return console.log(e)}))}),[]),_=Object(n.useCallback)((function(){Oe().then((function(e){return N(e.data)})).catch((function(e){return console.log(e)}))}),[]);return Object(n.useEffect)((function(){P(),_()}),[_,P]),Object(M.jsx)("div",{className:"container-fluid",children:Object(M.jsxs)("div",{className:"row",children:[Object(M.jsx)("div",{className:"col-md-2",children:Object(M.jsx)(Et,{})}),Object(M.jsxs)("div",{className:"col",children:[o?Object(M.jsxs)("h4",{className:"text-danger",children:[" ",Object(M.jsx)(Le.a,{}),"Loading ... "]}):Object(M.jsx)("h4",{children:"Create Sub Category"}),Object(M.jsxs)("div",{className:"pb-4",children:[Object(M.jsx)("label",{children:"Category"}),Object(M.jsxs)("select",{name:"category",className:"form-control",onChange:function(e){return C(e.target.value)},children:[Object(M.jsx)("option",{children:"Please select"}),v.length>0&&v.map((function(e){return Object(M.jsx)("option",{value:e._id,children:e.name},e._id)}))]})]}),Object(M.jsx)(It,{name:c,handleSubmit:function(e){e.preventDefault(),i(!0),Fe({name:c,parent:S},l.token).then((function(e){i(!1),a(""),u.b.success("".concat(e.data.name," is created")),P()})).catch((function(e){i(!1),u.b.error(e.message)}))},setName:a}),Object(M.jsx)(Rt,{keyword:m,setKeyword:x}),Object(M.jsx)("br",{}),Object(M.jsx)("div",{children:b.filter(function(e){return function(t){return t.name.toLowerCase().includes(e)}}(m)).map((function(e){return Object(M.jsxs)("div",{className:"alert alert-primary flex-column",children:[e.name,Object(M.jsx)("span",{className:"btn btn-sm float-right",onClick:function(t){return function(e,t){window.confirm("Are you sure to delete ".concat(t," sub category?"))&&(i(!0),Ee(e,l.token).then((function(e){u.b.success("".concat(t," deleted")),i(!1),P()})).catch((function(e){i(!1),u.b.error(e.message)})))}(e.slug,e.name)},children:Object(M.jsx)(St.a,{className:" text-warning"})}),Object(M.jsx)("span",{className:"btn btn-sm float-right",children:Object(M.jsx)(B.b,{to:"/admin/sub/".concat(e.slug),children:Object(M.jsx)(Lt.a,{className:"text-danger"})})})]},e._id)}))})]})]})})},qt=function(e){var t=e.match,c=e.history,a=Object(w.c)((function(e){return e.user})),r=Object(n.useState)(""),s=Object(A.a)(r,2),o=s[0],i=s[1],l=Object(n.useState)(!1),j=Object(A.a)(l,2),d=j[0],b=j[1],h=Object(n.useState)([]),p=Object(A.a)(h,2),O=p[0],m=p[1],x=Object(n.useState)(""),f=Object(A.a)(x,2),g=f[0],v=f[1],N=Object(n.useCallback)((function(){Oe().then((function(e){return m(e.data)})).catch((function(e){return console.log(e)}))}),[]),y=Object(n.useCallback)((function(){_e(t.params.slug).then((function(e){i(e.data.sub.name),v(e.data.parent)})).catch((function(e){return console.log(e)}))}),[t.params.slug]);Object(n.useEffect)((function(){N(),y()}),[N,y]);return Object(M.jsx)("div",{className:"container-fluid",children:Object(M.jsxs)("div",{className:"row",children:[Object(M.jsx)("div",{className:"col-md-2",children:Object(M.jsx)(Et,{})}),Object(M.jsxs)("div",{className:"col",children:[d?Object(M.jsx)("h4",{className:"text-danger",children:"Loading.."}):Object(M.jsx)("h4",{children:"Update sub category"}),Object(M.jsxs)("div",{className:"form-group",children:[Object(M.jsx)("label",{children:"Parent category"}),Object(M.jsxs)("select",{name:"category",className:"form-control",onChange:function(e){return v(e.target.value)},children:[Object(M.jsx)("option",{children:"Please select"}),O.length>0&&O.map((function(e){return Object(M.jsx)("option",{value:e._id,selected:e._id===g,children:e.name},e._id)}))]})]}),Object(M.jsx)(It,{handleSubmit:function(e){e.preventDefault(),b(!0),Te(t.params.slug,{name:o,parent:g},a.token).then((function(e){b(!1),i(""),u.b.success('"'.concat(e.data.name,'" is updated')),c.push("/admin/sub")})).catch((function(e){b(!1),u.b.error(e.response.data)}))},name:o,setName:i})]})]})})};var Vt=function(e){var t=e.product,c=e.handleDeleteProduct,n=t.title,a=t.images,r=t.description,s=t.product_id,o=t.slug;return Object(M.jsx)(X.a,{bordered:!0,hoverable:!0,cover:Object(M.jsx)("img",{style:{height:"150px",objectFit:"cover"},alt:s,src:a&&a.length?a[0].url:ce,className:"p-1"}),actions:[Object(M.jsx)(B.b,{to:"/admin/product/".concat(o),children:Object(M.jsx)(Lt.a,{className:"text-warning"})}),Object(M.jsx)(St.a,{className:"text-danger",onClick:function(){return c(o)}})],children:Object(M.jsx)(X.a.Meta,{title:n,description:"".concat(r.substring(0,40)," ...")})})},zt=function(){var e=Object(n.useState)([]),t=Object(A.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(!1),s=Object(A.a)(r,2),o=s[0],i=s[1],l=Object(w.c)((function(e){return e.user})),j=function(){i(!0),z(10).then((function(e){i(!1),a(e.data)})).catch((function(e){i(!1),console.log(e)}))};Object(n.useEffect)((function(){j()}),[]);var d=function(e){window.confirm("Are you sure to delete this product ".concat(e))&&(i(!0),W(e,l.token).then((function(t){i(!1),u.b.success("".concat(e," is deleted")),j(t.data.title)})).catch((function(e){i(!1),u.b.error(e.message)})))};return Object(M.jsx)("div",{className:"container-fluid",children:Object(M.jsxs)("div",{className:"row",children:[Object(M.jsx)("div",{className:"col-md-2",children:Object(M.jsx)(Et,{})}),Object(M.jsxs)("div",{className:"col",children:[o?Object(M.jsxs)("h4",{className:"text-danger",children:[Object(M.jsx)(Le.a,{})," Loading..."]}):Object(M.jsx)("h4",{children:"All Products"}),Object(M.jsx)("div",{className:"row",children:c.map((function(e){return Object(M.jsx)("div",{className:"col-md-4 pb-3",children:Object(M.jsx)(Vt,{product:e,handleDeleteProduct:d})},e._id)}))})]})]})})},Wt=c(140),Yt=c(494),Ht=c.n(Yt),Gt=c(1072),$t=function(e){var t=e.values,c=e.setValues,n=e.setLoading,a=Object(w.c)((function(e){return e.user}));return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("div",{className:"row",children:t.images&&t.images.map((function(e){return Object(M.jsx)(Ve.a,{count:"x",onClick:function(){return r=e.public_id,n(!0),void _.a.post("".concat("https://techshop-tran.herokuapp.com/api","/removeimages"),{public_id:r},{headers:{authtoken:a?a.token:""}}).then((function(e){n(!1);var a=t.images.filter((function(e){return e.public_id!==r}));c(Object(oe.a)(Object(oe.a)({},t),{},{images:a}))})).catch((function(e){n(!1),console.log(e)}));var r},style:{cursor:"pointer"},children:Object(M.jsx)(Gt.a,{src:e.url,size:100,shape:"square",className:"ml-5"})},e.public_id)}))}),Object(M.jsx)("div",{className:"row",children:Object(M.jsxs)("label",{className:"btn btn-primary btn-raised mt-3",children:["Choose File",Object(M.jsx)("input",{type:"file",multiple:!0,hidden:!0,accept:"images/*",onChange:function(e){var r=e.target.files,s=t.images;if(r){n(!0);for(var o=0;o<r.length;o++)Ht.a.imageFileResizer(r[o],720,720,"JPEG",100,0,(function(e){_.a.post("".concat("https://techshop-tran.herokuapp.com/api","/uploadimages"),{image:e},{headers:{authtoken:a?a.token:""}}).then((function(e){n(!1),s.push(e.data),c(Object(oe.a)(Object(oe.a)({},t),{},{images:s}))})).catch((function(e){n(!1),console.log(e)}))}),"base64")}}})]})})]})},Kt=c(175),Jt=Kt.a.Option,Qt=function(e){var t=e.handleSubmit,c=e.handleChange,n=(e.setValues,e.values),a=e.handleCategoryChange,r=e.categories,s=e.subOptions,o=e.arrayOfSubs,i=e.setArrayOfSubs,l=e.selectedCategory,u=n.title,j=n.description,d=n.price,b=n.category,h=n.shipping,p=n.quantity,O=n.colors,m=n.brands,x=n.color,f=n.brand;return Object(M.jsxs)("form",{onSubmit:t,children:[Object(M.jsxs)("div",{className:"form-group",children:[Object(M.jsx)("label",{children:"Title"}),Object(M.jsx)("input",{type:"text",name:"title",className:"form-control",value:u,onChange:c})]}),Object(M.jsxs)("div",{className:"form-group",children:[Object(M.jsx)("label",{children:"Description"}),Object(M.jsx)("input",{type:"text",name:"description",className:"form-control",value:j,onChange:c})]}),Object(M.jsxs)("div",{className:"form-group",children:[Object(M.jsx)("label",{children:"Price"}),Object(M.jsx)("input",{type:"number",name:"price",className:"form-control",value:d,onChange:c})]}),Object(M.jsxs)("div",{className:"form-group",children:[Object(M.jsx)("label",{children:"Shipping"}),Object(M.jsxs)("select",{value:"Yes"===h?"Yes":"No",name:"shipping",className:"form-control",onChange:c,children:[Object(M.jsx)("option",{value:"No",children:"No"}),Object(M.jsx)("option",{value:"Yes",children:"Yes"})]})]}),Object(M.jsxs)("div",{className:"form-group",children:[Object(M.jsx)("label",{children:"Quantity"}),Object(M.jsx)("input",{type:"number",name:"quantity",className:"form-control",value:p,onChange:c})]}),Object(M.jsxs)("div",{className:"form-group",children:[Object(M.jsx)("label",{children:"Color"}),Object(M.jsx)("select",{value:x,name:"color",className:"form-control",onChange:c,children:O.map((function(e){return Object(M.jsx)("option",{value:e,children:e},e)}))})]}),Object(M.jsxs)("div",{className:"form-group",children:[Object(M.jsx)("label",{children:"Brand"}),Object(M.jsx)("select",{value:f,name:"brand",className:"form-control",onChange:c,children:m.map((function(e){return Object(M.jsx)("option",{value:e,children:e},e)}))})]}),Object(M.jsxs)("div",{className:"form-group",children:[Object(M.jsx)("label",{children:"Category"}),Object(M.jsx)("select",{name:"category",className:"form-control",onChange:a,value:l||b._id,children:r.length>0&&r.map((function(e){return Object(M.jsx)("option",{value:e._id,children:e.name},e._id)}))})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("label",{children:"Sub Categories"}),Object(M.jsx)(Kt.a,{mode:"multiple",style:{width:"100%"},placeholder:"Please select",value:o,onChange:function(e){return i(e)},children:s.length&&s.map((function(e){return Object(M.jsx)(Jt,{value:e._id,children:e.name},e._id)}))})]}),Object(M.jsx)("br",{}),Object(M.jsx)("button",{className:"btn btn-outline-info",children:"Save"})]})},Zt={title:"",description:"",price:"",category:"",subs:[],shipping:"",quantity:"",images:[],colors:["Black","Brown","Silver","White","Blue"],brands:["Apple","Samsung","Microsoft","Lenovo","ASUS"],color:"",brand:""},Xt=function(e){var t=e.match,c=e.history,a=Object(n.useState)(Zt),r=Object(A.a)(a,2),s=r[0],o=r[1],i=Object(n.useState)([]),l=Object(A.a)(i,2),j=l[0],d=l[1],b=Object(n.useState)([]),h=Object(A.a)(b,2),p=h[0],O=h[1],m=Object(n.useState)([]),x=Object(A.a)(m,2),f=x[0],g=x[1],v=Object(n.useState)(""),N=Object(A.a)(v,2),y=N[0],k=N[1],S=Object(n.useState)(!1),C=Object(A.a)(S,2),P=C[0],_=C[1],E=Object(w.c)((function(e){return Object(oe.a)({},e)})).user,T=t.params.slug,F=Object(n.useCallback)((function(){Y(T).then((function(e){o(Object(oe.a)(Object(oe.a)({},s),e.data)),ve(e.data.category._id).then((function(e){return O(e.data)})).catch((function(e){return console.log(e)}));var t=[];e.data.subs.foreach((function(e){t.push(e._id)})),g(t)})).catch((function(e){return console.log(e)}))}),[T,s]),D=Object(n.useCallback)((function(){Oe().then((function(e){return d(e.data)})).catch((function(e){return console.log(e)}))}),[]);Object(n.useEffect)((function(){D(),F()}),[D,F]);return Object(M.jsx)("div",{className:"container-fluid",children:Object(M.jsxs)("div",{className:"row",children:[Object(M.jsx)("div",{className:"col-md-2",children:Object(M.jsx)(Et,{})}),Object(M.jsxs)("div",{className:"col-md-10",children:[P?Object(M.jsx)(Le.a,{className:"text-danger h1"}):Object(M.jsx)("h4",{children:"Product update"}),Object(M.jsx)("div",{className:"p-3",children:Object(M.jsx)($t,{values:s,setValues:o,setLoading:_})}),Object(M.jsx)("br",{}),Object(M.jsx)(Qt,{handleSubmit:function(e){e.preventDefault(),_(!0),s.subs=f,s.category=y||s.category,H(T,s,E.token).then((function(e){_(!1),u.b.success('"'.concat(e.data.title,'" is updated')),c.push("/admin/products")})).catch((function(e){console.log(e),_(!1),u.b.error(e.response.data.err)}))},handleChange:function(e){o(Object(oe.a)(Object(oe.a)({},s),{},Object(Wt.a)({},e.target.name,e.target.value)))},setValues:o,values:s,handleCategoryChange:function(e){e.preventDefault(),o(Object(oe.a)(Object(oe.a)({},s),{},{subs:[]})),k(e.target.value),ve(e.target.value).then((function(e){return O(e.data)})).catch((function(e){return console.log(e)})),s.category._id===e.target.value&&F(),g([])},categories:j,subOptions:p,arrayOfSubs:f,setArrayOfSubs:g,selectedCategory:y}),Object(M.jsx)("hr",{})]})]})})},ec=function(e){var t=e.handleChange,c=e.handleSubmit,n=e.values,a=e.setValues,r=e.handleCategoryChange,s=e.subOptions,o=e.showSub,i=n.title,l=n.description,u=n.price,j=n.categories,d=n.category,b=n.subs,h=n.shipping,p=n.quantity,O=n.color,m=n.colors,x=n.brand,f=n.brands;return Object(M.jsxs)("form",{onSubmit:c,children:[Object(M.jsxs)("div",{className:"form-group",children:[Object(M.jsx)("label",{children:"Title"}),Object(M.jsx)("input",{name:"title",type:"text",className:"form-control",value:i,onChange:t})]}),Object(M.jsxs)("div",{className:"form-group",children:[Object(M.jsx)("label",{children:"Description"}),Object(M.jsx)("input",{name:"description",type:"text",className:"form-control",value:l,onChange:t})]}),Object(M.jsxs)("div",{className:"form-group",children:[Object(M.jsx)("label",{children:"Price"}),Object(M.jsx)("input",{name:"price",type:"number",className:"form-control",value:u,min:0,onChange:t})]}),Object(M.jsxs)("div",{className:"form-group",children:[Object(M.jsx)("label",{children:"Shipping"}),Object(M.jsxs)("select",{name:"shipping",className:"form-control",onChange:t,value:h,children:[Object(M.jsx)("option",{children:"Please select"}),Object(M.jsx)("option",{value:"Yes",children:"Yes"}),Object(M.jsx)("option",{value:"No",children:"No"})]})]}),Object(M.jsxs)("div",{className:"form-group",children:[Object(M.jsx)("label",{children:"Quantity"}),Object(M.jsx)("input",{name:"quantity",type:"number",className:"form-control",value:p,min:0,onChange:t})]}),Object(M.jsxs)("div",{className:"form-group",children:[Object(M.jsx)("label",{children:"Color"}),Object(M.jsxs)("select",{name:"color",className:"form-control",onChange:t,value:O,children:[Object(M.jsx)("option",{children:"Please select"}),m.map((function(e){return Object(M.jsx)("option",{value:e,children:e},e)}))]})]}),Object(M.jsxs)("div",{className:"form-group",children:[Object(M.jsx)("label",{children:"Brand"}),Object(M.jsxs)("select",{name:"brand",className:"form-control",onChange:t,value:x,children:[Object(M.jsx)("option",{children:"Please select"}),f.map((function(e){return Object(M.jsx)("option",{value:e,children:e},e)}))]})]}),Object(M.jsxs)("div",{className:"form-group",children:[Object(M.jsx)("label",{children:"Category"}),Object(M.jsxs)("select",{name:"category",className:"form-control",onChange:r,value:d,children:[Object(M.jsx)("option",{children:"Please select"}),j.map((function(e){return Object(M.jsx)("option",{value:e._id,children:e.name},e._id)}))]})]}),o&&0!==s.length&&Object(M.jsxs)("div",{className:"form-group",children:[Object(M.jsx)("label",{children:"Sub Category"}),Object(M.jsx)(Kt.a,{mode:"multiple",placeholder:"Please select",style:{width:"100%"},value:b,name:"subs",onChange:function(e){return a(Object(oe.a)(Object(oe.a)({},n),{},{subs:e}))},children:s.map((function(e){return Object(M.jsx)(Kt.a.Option,{value:e._id,children:e.name},e._id)}))})]}),Object(M.jsx)("button",{className:"btn btn-outline-primary btn-block",children:"Save"})]})},tc={title:"Macbook Pro",description:"one of best Apple products",price:4500,category:"",subs:[],shipping:"Yes",quantity:50,images:[],colors:["Black","Red","Blue","White","Brown","Silver"],brands:["Apple","Samsung","Microsoft","Lenovo","ASUS","HP"],color:"Silver",brand:"Apple",categories:[]},cc=function(){var e=Object(n.useState)(!1),t=Object(A.a)(e,2),c=t[0],a=t[1],r=Object(w.c)((function(e){return e.user})),s=Object(n.useState)(tc),o=Object(A.a)(s,2),i=o[0],l=o[1],j=Object(n.useState)([]),d=Object(A.a)(j,2),b=d[0],h=d[1],p=Object(n.useState)(!1),O=Object(A.a)(p,2),m=O[0],x=O[1],f=Object(n.useCallback)((function(){Oe().then((function(e){return l(Object(oe.a)(Object(oe.a)({},i),{},{categories:e.data}))})).catch((function(e){return u.b.error(e.response.data.message)}))}),[i]);Object(n.useEffect)((function(){f()}),[f]);return Object(M.jsx)("div",{className:"container-fluid",children:Object(M.jsxs)("div",{className:"row",children:[Object(M.jsx)("div",{className:"col-md-2",children:Object(M.jsx)(Et,{})}),Object(M.jsxs)("div",{className:"col-md-10",children:[c?Object(M.jsxs)("h4",{className:"text-danger",children:[" ",Object(M.jsx)(Le.a,{}),"Loading ..."," "]}):Object(M.jsx)("h4",{children:"Create Product"}),Object(M.jsx)("div",{className:"p-3",children:Object(M.jsx)($t,{values:i,setValues:l,setLoading:a})}),Object(M.jsx)(ec,{handleSubmit:function(e){e.preventDefault(),V(i,r.token).then((function(e){window.alert("".concat(e.data.title," is created")),window.location.reload()})).catch((function(e){u.b.error(e.response.data.message)}))},handleChange:function(e){var t=e.target,c=t.value,n=t.name;l(Object(oe.a)(Object(oe.a)({},i),{},Object(Wt.a)({},n,c)))},handleCategoryChange:function(e){e.preventDefault(),l(Object(oe.a)(Object(oe.a)({},i),{},{subs:[],category:e.target.value})),ve(e.target.value).then((function(e){return h(e.data)})).catch((function(e){return u.b.error(e.response.data.message)})),x(!0)},subOptions:b,showSub:m,values:i,setValues:l})]})]})})},nc=c(1092);var ac=function(e){var t=e.product,c=t.color,n=t.shipping,a=t.brand,r=t.sold,s=t.quantity,o=t.price,i=t.category,l=t.subs,u=Number(s)-Number(r);return Object(M.jsxs)("ul",{className:"list-group",children:[Object(M.jsxs)("li",{className:"list-group-item",children:["Price"," ",Object(M.jsxs)("span",{className:"font-weight-bold pull-xs-right ",children:["$ ",o]})]}),i&&Object(M.jsxs)("li",{className:"list-group-item",children:["Category",Object(M.jsx)(B.b,{to:"/category/".concat(i.slug),className:"font-weight-bold pull-xs-right ",children:i.name})]}),l&&0!==l.length&&Object(M.jsxs)("li",{className:"list-group-item",children:["Sub Category",l.map((function(e){return Object(M.jsx)(B.b,{to:"/sub/".concat(e.slug),className:"font-weight-bold pull-xs-right ",children:e.name},e.slug)}))]}),Object(M.jsxs)("li",{className:"list-group-item",children:["Shipping"," ",Object(M.jsx)("span",{className:"font-weight-bold pull-xs-right ",children:n})]}),Object(M.jsxs)("li",{className:"list-group-item",children:["Color"," ",Object(M.jsx)("span",{className:"font-weight-bold pull-xs-right ",children:c})]}),Object(M.jsxs)("li",{className:"list-group-item",children:["Brand"," ",Object(M.jsx)("span",{className:"font-weight-bold pull-xs-right ",children:a})]}),Object(M.jsxs)("li",{className:"list-group-item",children:["Sold"," ",Object(M.jsx)("span",{className:"font-weight-bold pull-xs-right ",children:r})]}),Object(M.jsxs)("li",{className:"list-group-item",children:["Status",u>0?Object(M.jsx)("span",{className:"font-weight-bold pull-xs-right text-success",children:"In Stock"}):Object(M.jsx)("span",{className:"font-weight-bold pull-xs-right text-danger",children:"Out of Stock"})]})]})},rc=c(300),sc=c(1091),oc=c(1070);var ic=function(e){var t=e.children,c=Object(w.c)((function(e){return e.user})),a=Object(n.useState)(!1),r=Object(A.a)(a,2),s=r[0],o=r[1],i=Object(j.f)(),l=Object(j.g)().slug;return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)("div",{onClick:function(){c&&c.token?o(!0):i.push({pathname:"/login",state:{from:"/product/".concat(l)}})},children:[Object(M.jsx)(sc.a,{className:"text-danger"}),Object(M.jsx)("br",{}),c?"Leave rating":"Login to leave rating"]}),Object(M.jsx)(oc.a,{title:"Leave your rating",visible:s,onOk:function(){o(!1),u.b.success("Thank you for your review")},onCancel:function(){o(!1)},children:t})]})},lc=rc.a.TabPane;var uc=function(e){var t=e.product,c=e.onStarClick,n=e.star,a=t.title,r=t.description,s=t.images,o=t._id,i=Object(j.f)(),l=Object(w.c)((function(e){return e.user}));return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)("div",{className:"col-md-7",children:[s&&s.length?Object(M.jsx)(D.Carousel,{showArrows:!0,autoPlay:!0,infiniteLoop:!0,children:s.map((function(e,t){return Object(M.jsx)("img",{src:e.url,alt:"product-".concat(t)},e.public_id)}))}):Object(M.jsx)(X.a,{cover:Object(M.jsx)("img",{src:ce,className:"p-1 card-image",alt:"no-img"})}),Object(M.jsxs)(rc.a,{defaultActiveKey:"1",onChange:function(){},type:"Card",children:[Object(M.jsx)(lc,{tab:"Description",children:r&&r},"1"),Object(M.jsxs)(lc,{tab:"More",children:["Please ",Object(M.jsx)(B.b,{to:"/",children:"contact us"})," at"," ",Object(M.jsx)("a",{href:"tel:0109090909",onclick:"ga('send', 'event', { eventCategory: 'Contact', eventAction: 'Call', eventLabel: 'Mobile Button'});",children:"0109090909"})," ","to get more information about this product"]},"2")]})]}),Object(M.jsxs)("div",{className:"col-md-5",children:[Object(M.jsx)("h1",{className:"bg-info p-3 text-white",children:a}),Object(M.jsx)(se,{product:t}),Object(M.jsx)(X.a,{bordered:!0,actions:[Object(M.jsx)(be,{product:t}),Object(M.jsxs)("a",{onClick:function(){Ot(t._id,l.token).then((function(e){u.b.success("Add to wishlist"),i.push("/user/wishlist")})).catch((function(e){return u.b.error("Not added this product to wishlist")}))},children:[Object(M.jsx)(nc.a,{className:"text-info"}),Object(M.jsx)("br",{}),"Add to Wishlist"]}),Object(M.jsx)(ic,{children:Object(M.jsx)(re.a,{allowHalf:!0,rating:n,starRatedColor:"blue",numberOfStars:5,name:o,changeRating:c})})],children:Object(M.jsx)(ac,{product:t})})]})]})};var jc=function(e){var t=e.match,c=Object(n.useState)({}),a=Object(A.a)(c,2),r=a[0],s=a[1],o=Object(n.useState)({}),i=Object(A.a)(o,2),l=i[0],u=i[1],j=Object(n.useState)(0),d=Object(A.a)(j,2),b=d[0],h=d[1],p=t.params.slug,O=Object(w.c)((function(e){return e.user})),m=Object(n.useCallback)((function(){Y(p).then((function(e){s(e.data),J(e.data._id).then((function(e){return u(e.data)})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))}),[p]);return Object(n.useEffect)((function(){m()}),[m]),Object(n.useEffect)((function(){if(r&&r.ratings&&O){var e=r.ratings.find((function(e){return e.postedBy.toString()===O._id.toString()}));e&&h(e.star)}}),[r,O]),Object(M.jsxs)("div",{className:"container-fluid",children:[Object(M.jsx)("div",{className:"row pt-4",children:r&&Object(M.jsx)(uc,{product:r,onStarClick:function(e,t){h(e),K(t,e,O.token).then((function(e){return m()})).catch((function(e){return console.log(e)}))},star:b})}),Object(M.jsx)("div",{className:"row p-5",children:Object(M.jsx)("div",{className:"col text-center pt-5",children:Object(M.jsx)("h1",{children:"Related products"})})}),l.length?Object(M.jsx)("div",{className:"row p-5",children:l.map((function(e){return Object(M.jsx)("div",{className:"col-md-4",children:Object(M.jsx)(he,{product:e})},e._id)}))}):Object(M.jsx)("div",{className:"p-0 text-center",children:" No product found"})]})};var dc=function(){var e=Object(j.g)().slug,t=Object(n.useState)({}),c=Object(A.a)(t,2),a=c[0],r=c[1],s=Object(n.useState)(!1),o=Object(A.a)(s,2),i=o[0],l=o[1],u=Object(n.useState)([]),d=Object(A.a)(u,2),b=d[0],h=d[1];return Object(n.useEffect)((function(){l(!0),me(e).then((function(e){r(e.data.category),h(e.data.products),l(!1)})).catch((function(e){l(!1),console.log(e)}))}),[e]),Object(M.jsxs)("div",{className:"container",children:[i?Object(M.jsxs)("h4",{className:"jumbotron text-center p-3 mt-5 mb-5 display-4 ",children:[Object(M.jsx)(Le.a,{}),"Loading ...."]}):Object(M.jsxs)("h4",{className:"jumbotron text-center p-3 mt-5 mb-5 display-4 ",children:[b.length,' Products in "',a.name,'" category']}),Object(M.jsx)("div",{className:"row",children:b.map((function(e){return Object(M.jsx)("div",{className:"col-md-4",children:Object(M.jsx)(he,{product:e})},e._id)}))})]})};var bc=function(){var e=Object(j.g)().slug,t=Object(n.useState)({}),c=Object(A.a)(t,2),a=c[0],r=c[1],s=Object(n.useState)(!1),o=Object(A.a)(s,2),i=o[0],l=o[1],u=Object(n.useState)([]),d=Object(A.a)(u,2),b=d[0],h=d[1];return Object(n.useEffect)((function(){l(!0),_e(e).then((function(e){console.log(e.data),r(e.data.sub),h(e.data.products),l(!1)})).catch((function(e){l(!1),console.log(e)}))}),[e]),Object(M.jsxs)("div",{className:"container",children:[i?Object(M.jsxs)("h4",{className:"jumbotron text-center p-3 mt-5 mb-5 display-4 ",children:[Object(M.jsx)(Le.a,{}),"Loading ...."]}):Object(M.jsxs)("h4",{className:"jumbotron text-center p-3 mt-5 mb-5 display-4 ",children:[b.length,' Products in "',a.name,'" category']}),Object(M.jsx)("div",{className:"row",children:b.map((function(e){return Object(M.jsx)("div",{className:"col-md-4",children:Object(M.jsx)(he,{product:e})},e._id)}))})]})},hc=c(1093),pc=c(1094),Oc=c(1095),mc=c(1096),xc=c(1097),fc=c(1075),gc=c(1074),vc=c(1065),Nc=c(107),yc=c.n(Nc);var wc=function(e){var t=e.starClick,c=e.numberOfStars;return Object(M.jsx)(M.Fragment,{children:Object(M.jsx)(re.a,{starDimension:"20px",starSpacing:"2px",numberOfStars:c,editing:!1,starEmptyColor:"red",changeRating:function(){return t(c)}})})};var kc=function(){var e=Object(n.useState)({}),t=Object(A.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)([]),s=Object(A.a)(r,2),o=s[0],i=s[1],l=Object(n.useState)(),u=Object(A.a)(l,2),j=u[0],d=u[1],b=Object(n.useState)(v),h=Object(A.a)(b,2),O=h[0],m=h[1],x=Object(n.useState)([]),f=Object(A.a)(x,2),g=f[0],N=f[1],y=Object(n.useState)([]),k=Object(A.a)(y,2),S=k[0],C=k[1],P=Object(n.useState)([]),_=Object(A.a)(P,2),E=_[0],T=_[1],F=Object(n.useState)(0),D=Object(A.a)(F,2),L=D[0],I=D[1],R=Object(n.useState)(""),B=Object(A.a)(R,2),U=B[0],q=B[1],V=Object(n.useState)([]),z=Object(A.a)(V,2),W=z[0],Y=z[1],H=Object(n.useState)(["Apple","Samsung","Microsoft","Lenovo","ASUS","HP"]),G=Object(A.a)(H,2),$=G[0],K=(G[1],Object(n.useState)("")),J=Object(A.a)(K,2),X=J[0],ee=J[1],te=Object(n.useState)(["Black","Red","Blue","White","Brown","Silver"]),ce=Object(A.a)(te,2),ne=ce[0],ae=(ce[1],Object(n.useState)("")),re=Object(A.a)(ae,2),se=re[0],ie=re[1],le=Object(n.useState)(""),ue=Object(A.a)(le,2),je=ue[0],de=ue[1],be=Object(w.b)(),pe=Object(w.c)((function(e){return e.search})).text,me=Object(n.useCallback)((function(){Oe().then((function(e){return T(e.data)})).catch((function(e){return console.log(e)}))}),[]),xe=Object(n.useCallback)((function(){Pe().then((function(e){return Y(e.data)})).catch((function(e){return console.log(e)}))}),[]);Object(n.useEffect)((function(){me(),xe()}),[me,xe]),Object(n.useEffect)((function(){console.log(Object.keys(c));var e=setTimeout((function(){a(Object(oe.a)(Object(oe.a)({},c&&c),{},{text:pe}))}),300);return function(){return clearTimeout(e)}}),[pe,c]);var fe=function(e){var t=e,n=t.map((function(e){return E.filter((function(t){return t._id===e}))[0].name}));C(n),console.log({categoryName:n}),N(t),a(Object(oe.a)(Object(oe.a)({},c&&c),{},{category:t}))},ge=function(e){I(e),a(Object(oe.a)(Object(oe.a)({},c&&c),{},{stars:e}))},ve=function(e){ee(e.target.value),a(Object(oe.a)(Object(oe.a)({},c&&c),{},{brand:e.target.value}))},Ne=function(e){ie(e.target.value),a(Object(oe.a)(Object(oe.a)({},c&&c),{},{color:e.target.value}))},ye=function(e){de(e.target.value),a(Object(oe.a)(Object(oe.a)({},c&&c),{},{shipping:e.target.value}))};return Object(n.useEffect)((function(){console.log("here"),Q(c).then((function(e){i(e.data),d(!1),console.log(e.data)})).catch((function(e){d(!1),console.log(e)}))}),[]),Object(M.jsx)("div",{className:"container-fluid",children:Object(M.jsxs)("div",{className:"row",children:[Object(M.jsxs)("div",{className:"col-md-3 pt-2",children:[Object(M.jsx)("h4",{children:"Search/Filters"}),Object(M.jsxs)(qe.a,{defaultOpenKeys:["1","2","3","4"],mode:"inline",children:[Object(M.jsx)(yc.a,{title:Object(M.jsxs)("span",{className:"h6",children:[Object(M.jsx)(hc.a,{}),"Price"]}),children:Object(M.jsx)("div",{children:Object(M.jsx)(vc.a,{range:!0,tipFormatter:function(e){return"$".concat(e)},className:"ml-4 mr-4",value:O,onChange:function(e){m(e),setTimeout((function(){a(Object(oe.a)(Object(oe.a)({},c&&c),{},{price:e}))}),300)},disabled:!1,max:"4999",marks:{0:"$0",5e3:"$5000"},autoFocus:!0})})},"1"),Object(M.jsx)(yc.a,{title:Object(M.jsxs)("span",{className:"h6",children:[Object(M.jsx)(pc.a,{}),"Category"]}),children:Object(M.jsx)("div",{children:Object(M.jsx)(fc.a.Group,{onChange:fe,value:g,children:E.map((function(e){return Object(M.jsxs)("div",{children:[Object(M.jsx)(fc.a,{className:"pb-2 pl-4 pr-4",value:e._id,name:"category",children:e.name}),Object(M.jsx)("br",{})]},e._id)}))})})},"2"),Object(M.jsx)(yc.a,{title:Object(M.jsxs)("span",{className:"h6",children:[Object(M.jsx)(sc.a,{}),"Ratings"]}),children:Object(M.jsx)("div",{children:Object(Z.a)(Array(5).keys()).reverse().map((function(e,t){return Object(M.jsx)("div",{className:"pr-4 pl-4 pb-2",children:Object(M.jsx)(wc,{starClick:ge,numberOfStars:e+1})},"star-".concat(t))}))})},"3"),Object(M.jsx)(yc.a,{title:Object(M.jsxs)("span",{className:"h6",children:[Object(M.jsx)(Oc.a,{}),"Sub Categories"]}),children:Object(M.jsx)("div",{children:Object(M.jsx)("div",{className:"row ml-4 mr-4",children:W.map((function(e){return Object(M.jsx)("div",{onClick:function(){return function(e){var t=W.filter((function(t){return t._id===e}))[0].name;q(t),a(Object(oe.a)(Object(oe.a)({},c&&c),{},{sub:e}))}(e._id)},className:"p-1 m-1 badge badge-secondary",style:{cursor:"pointer"},children:e.name},e._id)}))})})},"4"),Object(M.jsx)(yc.a,{title:Object(M.jsxs)("span",{className:"h6",children:[Object(M.jsx)(mc.a,{}),"Brand"]}),children:Object(M.jsx)("div",{children:Object(M.jsx)(gc.a.Group,{onChange:ve,value:X,children:$.map((function(e){return Object(M.jsxs)("div",{children:[Object(M.jsx)(gc.a,{className:"pb-2 pl-4",value:e,name:"brand",children:e}),Object(M.jsx)("br",{})]},e)}))})})},"5"),Object(M.jsx)(yc.a,{title:Object(M.jsxs)("span",{className:"h6",children:[Object(M.jsx)(xc.a,{}),"Color"]}),children:Object(M.jsx)("div",{children:Object(M.jsx)(gc.a.Group,{onChange:Ne,value:se,children:ne.map((function(e){return Object(M.jsxs)("div",{children:[Object(M.jsx)(gc.a,{className:"pb-2 pl-4",value:e,name:"color",children:e}),Object(M.jsx)("br",{})]},e)}))})})},"6"),Object(M.jsx)(yc.a,{title:Object(M.jsxs)("span",{className:"h6",children:[Object(M.jsx)(We.a,{}),"Shipping"]}),children:Object(M.jsx)("div",{children:Object(M.jsx)(gc.a.Group,{onChange:ye,value:je,children:["Yes","No"].map((function(e){return Object(M.jsxs)("div",{children:[Object(M.jsx)(gc.a,{className:"pb-2 pl-4",value:e,name:"shipping",children:e}),Object(M.jsx)("br",{})]},e)}))})})},"7")]})]}),Object(M.jsxs)("div",{className:"col-md-9 pt-2",children:[Object(M.jsxs)("div",{className:"pb-2",children:[Object(M.jsx)("h4",{className:"text-danger",children:"Filter Commands:"}),Object(M.jsx)("div",{className:"d-inline-flex align-items-center",children:Object(M.jsxs)("p",{className:"m-0",children:[0!==O.length&&Object(M.jsxs)(M.Fragment,{children:["Min price : ",Object(M.jsx)("span",{className:"text-info",children:O[0]})," - Max price : ",Object(M.jsx)("span",{className:"text-info",children:O[1]})]}),pe&&Object(M.jsxs)(M.Fragment,{children:[" - Text search : ",Object(M.jsx)("span",{className:"text-info",children:pe})]}),0!==S.length&&Object(M.jsxs)(M.Fragment,{children:[" - Categories:",S.map((function(e){return Object(M.jsxs)("span",{className:"text-info",children:[" ","".concat(e,", ")]})}))]}),0!==L&&Object(M.jsxs)(M.Fragment,{children:[" - Average Rating : ",Object(M.jsx)("span",{className:"text-info",children:L})]}),U&&Object(M.jsxs)(M.Fragment,{children:[" - Sub : ",Object(M.jsx)("span",{className:"text-info",children:U})]}),X&&Object(M.jsxs)(M.Fragment,{children:[" - Brand : ",Object(M.jsx)("span",{className:"text-info",children:X})]}),se&&Object(M.jsxs)(M.Fragment,{children:[" - Color : ",Object(M.jsx)("span",{className:"text-info",children:se})]}),je&&Object(M.jsxs)(M.Fragment,{children:[" - Shipping : ",Object(M.jsx)("span",{className:"text-info",children:je})]})," ",Object(M.jsx)(Be.a,{onClick:function(){m(v),N([]),C([]),I(0),q(""),ee(""),ie(""),de(""),be((function(e){e({type:p,payload:{text:""}})})),a({})},type:"dashed",children:"Remove filter"})]})})]}),j?Object(M.jsxs)("h4",{children:[Object(M.jsx)(Le.a,{className:"text-danger"}),"Loading ... "]}):Object(M.jsxs)("h4",{className:"text-danger",children:[o&&o.length," Products"]}),o.length<1&&Object(M.jsx)("p",{children:"No product found"}),Object(M.jsx)("div",{className:"row pb-5",children:o.map((function(e){return Object(M.jsx)("div",{className:"col-md-4 mt-3",children:Object(M.jsx)(he,{product:e})},e._id)}))})]})]})})},Sc=c(504),Cc=Kt.a.Option;var Pc=function(e){var t=e.product,c=Object(w.b)();return Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{children:Object(M.jsx)("div",{style:{width:"100px",height:"100px"},children:t.images.length?Object(M.jsx)(Sc.a,{small:t.images[0].url,large:t.images[0].url,alt:t.title}):Object(M.jsx)("img",{alt:t.title,src:ce,style:{width:"100px",height:"100px"}})})}),Object(M.jsx)("td",{children:t.title}),Object(M.jsx)("td",{children:t.price}),Object(M.jsx)("td",{children:t.brand}),Object(M.jsx)("td",{children:Object(M.jsx)(Kt.a,{defaultValue:t.color?"".concat(t.color):"Please Select",bordered:!1,style:{width:120},onChange:function(e){t.color=e,c(ue(t))},children:["Black","Red","Blue","White","Brown","Silver"].map((function(e){return Object(M.jsx)(Cc,{value:e,children:e},e)}))})}),Object(M.jsx)("td",{className:"text-center",children:Object(M.jsx)("input",{type:"number",min:"1",max:t.quantity,className:"form-control",value:t.count,onChange:function(e){var n=e.target.value;n>t.quantity?u.b.error("Max availale quantity: ".concat(t.quantity)):(n<=0&&u.b.info("Please enter a quantity greater than 0"),t.count=Number(n),c(ue(t)))}})}),Object(M.jsx)("td",{children:"Yes"===t.shipping?Object(M.jsx)(at.a,{className:"text-success"}):Object(M.jsx)(rt.a,{className:"text-success"})}),Object(M.jsxs)("td",{children:[Object(M.jsx)(St.a,{className:"text-danger pointer",onClick:function(){var e;c((e=t,function(t,c){t({type:m,payload:e}),console.log("object",c().cart),"undefined"!==typeof window&&localStorage.setItem("cart",JSON.stringify(c().cart))}))}})," "]})]})};var _c=function(e){var t=e.history,c=Object(w.c)((function(e){return Object(oe.a)({},e)})),n=c.cart,a=c.user;return Object(M.jsx)("div",{className:"container-fluid pt-2",children:Object(M.jsxs)("div",{className:"row",children:[Object(M.jsxs)("div",{className:"col-md-8",children:[Object(M.jsxs)("h4",{children:["Cart:",0!==n.length&&Object(M.jsxs)("span",{children:[n.length," product",1!==n.length&&"s"]})]}),n.length?Object(M.jsxs)("table",{className:"table table-bordered",children:[Object(M.jsx)("thead",{className:"thead-light",children:Object(M.jsxs)("tr",{children:[Object(M.jsx)("th",{scope:"col",children:"Image"}),Object(M.jsx)("th",{scope:"col",children:"Title"}),Object(M.jsx)("th",{scope:"col",children:"Price"}),Object(M.jsx)("th",{scope:"col",children:"Brand"}),Object(M.jsx)("th",{scope:"col",children:"Color"}),Object(M.jsx)("th",{scope:"col",children:"Count"}),Object(M.jsx)("th",{scope:"col",children:"Shipping"}),Object(M.jsx)("th",{scope:"col",children:"Remove"})]})}),Object(M.jsx)("tbody",{children:n.map((function(e){return Object(M.jsx)(Pc,{product:e},e._id)}))})]}):Object(M.jsxs)("p",{children:["No product in cart? ",Object(M.jsx)(B.b,{to:"/shop",children:"Continue Shopping"})]})]}),Object(M.jsxs)("div",{className:"col-md-4",children:[Object(M.jsx)("h4",{children:"Order Summary"}),Object(M.jsx)("hr",{}),Object(M.jsx)("p",{children:"Products"}),Object(M.jsx)("table",{className:"table table-striped",children:Object(M.jsxs)("tbody",{children:[n.map((function(e){return Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{children:"".concat(e.title)}),Object(M.jsx)("td",{children:"x"}),Object(M.jsx)("td",{children:e.count}),Object(M.jsx)("td",{children:"="}),Object(M.jsxs)("td",{children:["$",e.price*e.count]})]},e.title)})),Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{colSpan:"3",children:Object(M.jsx)("em",{children:"Total:"})}),Object(M.jsx)("td",{children:"="}),Object(M.jsx)("td",{children:Object(M.jsxs)("strong",{children:["$",n.reduce((function(e,t){return e+t.count*t.price}),0)]})})]})]})}),Object(M.jsx)("div",{className:"d-flex justify-content-around",children:a?Object(M.jsx)("button",{onClick:function(){it(n,a.token).then((function(e){return t.push("/checkout")})).catch((function(e){return u.b.error(e.message)}))},disabled:!n.length,className:"btn btn-sm btn-primary btn-block btn-raised mt-2",children:"Proceed to checkout"}):Object(M.jsx)("button",{className:"btn btn-sm btn-primary btn-block mt-2",children:Object(M.jsx)(B.b,{to:{pathname:"/login",state:{from:"cart"}},children:"Login to checkout"})})})]})]})})},Ec=c(496),Tc=c.n(Ec);c(1046);var Fc=function(e){var t=e.history,c=Object(n.useState)(!1),a=Object(A.a)(c,2),r=a[0],s=a[1],o=Object(n.useState)([]),i=Object(A.a)(o,2),l=i[0],j=i[1],d=Object(n.useState)(0),b=Object(A.a)(d,2),h=b[0],p=b[1],O=Object(n.useState)(""),m=Object(A.a)(O,2),x=m[0],f=m[1],g=Object(n.useState)(!1),v=Object(A.a)(g,2),N=v[0],k=v[1],S=Object(n.useState)(""),C=Object(A.a)(S,2),P=C[0],_=C[1],E=Object(n.useState)(0),T=Object(A.a)(E,2),F=T[0],D=T[1],L=Object(n.useState)(""),I=Object(A.a)(L,2),R=I[0],B=I[1],U=Object(w.c)((function(e){return e.user})),q=Object(w.b)(),V=function(){jt(U.token,x).then((function(e){k(!0),u.b.success("Address saved")})).catch((function(e){console.log(e),u.b.error(e.message)}))};Object(n.useEffect)((function(){s(!0),lt(U.token).then((function(e){s(!1);var t=e.data,c=t.products,n=t.cartTotal;j(c),p(n)})).catch((function(e){s(!1),console.log(e)}))}),[U.token]);var z=function(){dt(P.toUpperCase(),U.token).then((function(e){console.log(e.data),e.data&&(D(e.data.totalAfterDiscount),q(y(!0))),e.data.err&&(B(e.data.err),q(y(!1)))})).catch((function(e){return console.log(e)}))},W=function(e){B(""),_(e.target.value)};return Object(M.jsx)("div",{className:"container-fluid",children:r?Object(M.jsxs)("h4",{className:"pt-2",children:[Object(M.jsx)(Le.a,{}),"Loading ..."]}):Object(M.jsxs)("div",{className:"row pt-2",children:[Object(M.jsxs)("div",{className:"col-md-6",children:[Object(M.jsx)("h4",{children:"Delivery Address"}),Object(M.jsxs)("div",{className:"mb-5",children:[Object(M.jsx)(Tc.a,{theme:"snow",value:x,onChange:f}),Object(M.jsx)("button",{className:"btn btn-primary btn-raised mt-2",onClick:V,children:"Save"})]}),Object(M.jsx)("h4",{children:"Got Coupon"}),Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("input",{type:"text",onChange:W,value:P,className:"form-control"}),Object(M.jsx)("button",{onClick:z,className:"btn btn-primary btn-raised mt-2",children:"Apply"})]}),R&&Object(M.jsx)("p",{className:"bg-danger p-2",children:R})]}),Object(M.jsxs)("div",{className:"col-md-6",children:[Object(M.jsx)("h4",{className:"mb-2",children:"Order Summary"}),Object(M.jsxs)("p",{children:["Products: ",l.length]}),l.map((function(e){return Object(M.jsxs)("div",{className:"row",children:[Object(M.jsxs)("p",{className:"col-md-7",children:[e.product.title," "]}),Object(M.jsxs)("p",{className:"col-md-2",children:["(",e.color," x ",e.count,")"," "]}),Object(M.jsxs)("p",{className:"col-md-1",children:["="," "]}),Object(M.jsx)("p",{className:"col-md-1",children:e.product.price*e.count})]},e._id)})),Object(M.jsxs)("p",{children:["Cart Total: ",h]}),F>0&&Object(M.jsxs)("p",{className:"bg-success p-2",children:[Object(M.jsx)("strong",{children:"Discount Applied: Total Payable: "}),"$",F]}),Object(M.jsxs)("div",{className:"row",children:[Object(M.jsx)("div",{className:"col-md-6",children:Object(M.jsx)("button",{onClick:function(){return t.push("/payment")},disabled:!N||!l.length,className:"btn btn-primary",children:"Place Order"})}),Object(M.jsx)("div",{className:"col-md-6",children:Object(M.jsx)("button",{className:"btn btn-primary",disabled:!l.length,onClick:function(){q(je()),ut(U.token).then((function(e){j([]),p(0),D(0),_(""),u.b.success("Cart is empty. Continue shopping")})).catch((function(e){return console.log(e)}))},children:"Empty Order"})})]})]})]})})},Ac=c(497),Dc=c.n(Ac),Lc=(c(482),function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("".concat("https://techshop-tran.herokuapp.com/api","/coupons"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),Ic=function(){var e=Object(l.a)(i.a.mark((function e(t,c){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.delete("".concat("https://techshop-tran.herokuapp.com/api","/coupon/").concat(t),{headers:{authtoken:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),Rc=function(){var e=Object(l.a)(i.a.mark((function e(t,c){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.post("".concat("https://techshop-tran.herokuapp.com/api","/coupon"),t,{headers:{authtoken:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}();var Bc=function(){var e=Object(n.useState)(""),t=Object(A.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(""),s=Object(A.a)(r,2),o=s[0],i=s[1],l=Object(n.useState)(""),j=Object(A.a)(l,2),d=j[0],b=j[1],h=Object(n.useState)(""),p=Object(A.a)(h,2),O=p[0],m=p[1],x=Object(n.useState)(""),f=Object(A.a)(x,2),g=f[0],v=f[1],N=Object(n.useState)([]),y=Object(A.a)(N,2),k=y[0],S=y[1],C=Object(w.c)((function(e){return e.user})),P=(Object(w.b)(),Object(n.useCallback)((function(){Lc().then((function(e){return S(e.data)})).catch((function(e){return u.b.error(e.message)}))}),[]));return Object(n.useEffect)((function(){P()}),[]),Object(M.jsx)("div",{className:"container-fluid",children:Object(M.jsxs)("div",{className:"row",children:[Object(M.jsx)("div",{className:"col-md-2",children:Object(M.jsx)(Et,{})}),Object(M.jsxs)("div",{className:"col",children:[O?Object(M.jsxs)("h4",{className:"text-danger",children:[Object(M.jsx)(Le.a,{}),"Loading..."]}):Object(M.jsx)("h4",{children:"Coupon"}),Object(M.jsxs)("form",{onSubmit:function(e){e.preventDefault(),m(!0),g||Rc({name:c,expiry:o,discount:d},C.token).then((function(e){m(!1),P(),a(""),b(""),i(""),u.b.success("Coupon ".concat(e.data.name," is created"))})).catch((function(e){return u.b.error(e.message)}))},children:[Object(M.jsxs)("div",{className:"form-group",children:[Object(M.jsx)("label",{className:"text-muted",children:"Name"}),Object(M.jsx)("input",{type:"text",className:"form-control",value:c,name:"name",onChange:function(e){var t=e.target.value;a(t.toUpperCase()),t.length<6?v("Name is too short. Coupon has at least 6 characters and its maximum length is 12 characters"):t.length>12?v("Name is too long.  Coupon has at least 6 characters and its maximum length is 12 characters"):v("")},required:!0,autoFocus:!0}),g&&Object(M.jsx)("p",{children:g})]}),Object(M.jsxs)("div",{className:"form-group",children:[Object(M.jsx)("label",{className:"text-muted",children:"Discount %"}),Object(M.jsx)("input",{min:"0",max:"100",type:"number",className:"form-control",value:d,onChange:function(e){return b(e.target.value)},required:!0,autoFocus:!0})]}),Object(M.jsxs)("div",{className:"form-group",children:[Object(M.jsx)("label",{className:"text-muted",children:"Expiry"}),Object(M.jsx)("br",{}),Object(M.jsx)(Dc.a,{value:o,onChange:function(e){return i(e)},required:!0})]}),Object(M.jsx)("button",{className:"btn btn-primary",children:"Save"})]}),Object(M.jsx)("br",{}),Object(M.jsxs)("h4",{children:[k.length," Coupon",k.length<2?"":"s"]}),Object(M.jsxs)("table",{className:"table table-bordered",children:[Object(M.jsx)("thead",{className:"thead-light",children:Object(M.jsxs)("tr",{children:[Object(M.jsx)("th",{scope:"col",children:"Name"}),Object(M.jsx)("th",{scope:"col",children:"Expiry"}),Object(M.jsx)("th",{scope:"col",children:"Discount"}),Object(M.jsx)("th",{scope:"col",children:"Action"})]})}),Object(M.jsx)("tbody",{children:k.map((function(e){return Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{children:e.name}),Object(M.jsx)("td",{children:new Date(e.expiry).toLocaleDateString()}),Object(M.jsxs)("td",{children:[e.discount,"%"]}),Object(M.jsx)("td",{children:Object(M.jsx)(St.a,{onClick:function(){return t=e._id,void(window.confirm("Delete?")&&(m(!0),Ic(t,C.token).then((function(e){P(),m(!1),u.b.info("Coupon ".concat(e.data.name," is deleted"))})).catch((function(e){return u.b.error(e.message)}))));var t},className:"text-danger",style:{cursor:"pointer"}})})]},e._id)}))})]})]})]})})},Mc=c(119),Uc=c(498),qc=(c(1059),function(){var e=Object(l.a)(i.a.mark((function e(t,c){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.post("".concat("https://techshop-tran.herokuapp.com/api","/create-payment-intent"),{couponApplied:c},{headers:{authtoken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}()),Vc=c(506);var zc=function(){var e=Object(Mc.useStripe)(),t=Object(Mc.useElements)(),c=Object(n.useState)(!1),a=Object(A.a)(c,2),r=a[0],s=a[1],o=Object(n.useState)(null),u=Object(A.a)(o,2),j=u[0],d=u[1],b=Object(n.useState)(""),h=Object(A.a)(b,2),p=h[0],O=h[1],m=Object(n.useState)(),x=Object(A.a)(m,2),f=x[0],g=x[1],v=Object(n.useState)(""),N=Object(A.a)(v,2),k=N[0],S=N[1],C=Object(n.useState)(0),P=Object(A.a)(C,2),_=P[0],E=P[1],T=Object(n.useState)(0),F=Object(A.a)(T,2),D=F[0],L=F[1],I=Object(n.useState)(0),R=Object(A.a)(I,2),U=R[0],q=R[1],V=Object(w.b)(),z=Object(w.c)((function(e){return Object(oe.a)({},e)})),W=z.user,Y=z.coupon;Object(n.useEffect)((function(){qc(W.token,Y).then((function(e){console.log("----",e.data);var t=e.data,c=t.clientSecret,n=t.cartTotal,a=t.payable,r=t.totalAfterDiscount;S(c),E(n),L(a),q(r)})).catch((function(e){return console.log(e)}))}),[Y,W.token]);var H=function(){var c=Object(l.a)(i.a.mark((function c(n){var a;return i.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(n.preventDefault(),e&&t){c.next=3;break}return c.abrupt("return");case 3:return O(!0),c.next=6,e.confirmCardPayment(k,{payment_method:{card:t.getElement(Mc.CardElement),billing_details:{}}});case 6:(a=c.sent).error?(d("Payment failed ".concat(a.error.message)),O(!1)):(bt(a,W.token).then((function(e){V(je()),V(y(!1)),ut(W.token).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)})),d(null),O(!1),s(!0));case 8:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}();return Object(M.jsxs)(M.Fragment,{children:[!r&&Object(M.jsx)("div",{children:Y&&void 0!==U?Object(M.jsxs)("p",{className:"alert alert-success",children:["Total after discount: $",U]}):Object(M.jsx)("p",{className:"alert alert-danger",children:"No coupon applied"})}),Object(M.jsx)("div",{className:"text-center pb-5",children:Object(M.jsx)(X.a,{cover:Object(M.jsx)("img",{style:{height:"200px",objectFit:"cover",marginBottom:"-50px"},alt:"img-card"}),actions:[Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(hc.a,{className:"text-info"}),Object(M.jsx)("br",{})," Total: $",_]}),Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(Vc.a,{className:"text-info"}),Object(M.jsx)("br",{})," Total payable: $",D]})]})}),Object(M.jsxs)("form",{id:"payment-form",className:"stripe-form",onSubmit:H,children:[Object(M.jsx)(Mc.CardElement,{id:"card-element",options:{style:{base:{color:"#32325d",fontFamily:"Arial, sans-serif",fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#32325d"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}}},onChange:function(e){g(e.empty),d(e.error?e.error.message:"")}}),Object(M.jsx)("button",{type:"submit",className:"stripe-button",disabled:p||f||r,children:Object(M.jsx)("span",{id:"button-text",children:p?Object(M.jsx)("div",{className:"spinner",id:"spinner"}):"Pay"})}),j&&Object(M.jsx)("div",{className:"card-error",role:"alert",children:j}),Object(M.jsx)("br",{}),Object(M.jsxs)("p",{className:r?"result-message":"result-message hidden",children:["Payment Successful."," ",Object(M.jsx)(B.b,{to:"/user/history",children:"See it in your purchase history"})]})]})]})},Wc=Object(Uc.a)("pk_test_51IEL8FIUMVGuOdPc3QJNZFcfeoP3JBOgklSOEYZQ8oqOOR3eRCteCAlG0nXVSlBhr0LL4lTfoeq6zhvuiUMfawqL00hSBA57Ht");var Yc=function(){return Object(M.jsxs)("div",{className:"container p-5 text-center",children:[Object(M.jsx)("h4",{children:"Complete your purchase"}),Object(M.jsx)(Mc.Elements,{stripe:Wc,children:Object(M.jsx)("div",{className:"col-md-8 offset-md-2",children:Object(M.jsx)(zc,{})})})]})};var Hc=function(){var e=Object(w.b)();return Object(n.useEffect)((function(){var t=S.onAuthStateChanged(function(){var t=Object(l.a)(i.a.mark((function t(c){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!c){t.next=5;break}return t.next=3,c.getIdTokenResult();case 3:n=t.sent,T(n.token).then((function(t){var c=t.data,a=c.email,r=c.name,s=c.role,o=c._id,i=n.token;e(N(a,r,s,o,i))})).catch((function(e){return u.b.error(e.message)}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());return function(){return t()}}),[e]),Object(M.jsxs)("div",{children:[Object(M.jsx)(Xe,{}),Object(M.jsx)(tt,{}),Object(M.jsx)(u.a,{}),Object(M.jsxs)(j.c,{children:[Object(M.jsx)(j.a,{exact:!0,path:"/",component:De}),Object(M.jsx)(j.a,{exact:!0,path:"/login",component:Me}),Object(M.jsx)(j.a,{exact:!0,path:"/register",component:Ue}),Object(M.jsx)(j.a,{exact:!0,path:"/register/complete",component:ct}),Object(M.jsx)(j.a,{exact:!0,path:"/forgot/password",component:nt}),Object(M.jsx)(j.a,{exact:!0,path:"/login",component:Me}),Object(M.jsx)(kt,{exact:!0,path:"/user/history",component:Nt}),Object(M.jsx)(kt,{exact:!0,path:"/user/password",component:Pt}),Object(M.jsx)(kt,{exact:!0,path:"/user/wishlist",component:Ct}),Object(M.jsx)(_t,{exact:!0,path:"/admin/dashboard",component:Dt}),Object(M.jsx)(_t,{exact:!0,path:"/admin/category",component:Bt}),Object(M.jsx)(_t,{exact:!0,path:"/admin/category/:slug",component:Mt}),Object(M.jsx)(_t,{exact:!0,path:"/admin/sub",component:Ut}),Object(M.jsx)(_t,{exact:!0,path:"/admin/sub/:slug",component:qt}),Object(M.jsx)(_t,{exact:!0,path:"/admin/product",component:cc}),Object(M.jsx)(_t,{exact:!0,path:"/admin/product/:slug",component:Xt}),Object(M.jsx)(_t,{exact:!0,path:"/admin/products",component:zt}),Object(M.jsx)(_t,{exact:!0,path:"/admin/coupon",component:Bc}),Object(M.jsx)(j.a,{exact:!0,path:"/product/:slug",component:jc}),Object(M.jsx)(j.a,{exact:!0,path:"/category/:slug",component:dc}),Object(M.jsx)(j.a,{exact:!0,path:"/sub/:slug",component:bc}),Object(M.jsx)(j.a,{exact:!0,path:"/shop",component:kc}),Object(M.jsx)(j.a,{exact:!0,path:"/cart",component:_c}),Object(M.jsx)(kt,{exact:!0,path:"/checkout",component:Fc}),Object(M.jsx)(kt,{exact:!0,path:"/payment",component:Yc})]})]})},Gc=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,1098)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),r(e),s(e)}))},$c=(c(1060),c(100)),Kc=c(499),Jc="undefined"!==typeof window&&localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")):[],Qc=Object($c.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:case b:return t.payload;default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{text:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:case p:return t.payload;default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:var c=t.payload,n=e.find((function(e){return e.title===c.title}));return n?e.map((function(e){return e.title===n.title?c:e})):[].concat(Object(Z.a)(e),[c]);case m:var a=t.payload;return e.filter((function(e){return e._id!==a._id}));case x:return t.payload;default:return e}},drawer:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return t.payload;default:return e}},coupon:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return t.payload;default:return e}}}),Zc=c(500),Xc=Object($c.createStore)(Qc,Object(Kc.composeWithDevTools)(Object($c.applyMiddleware)(Zc.a)));s.a.render(Object(M.jsx)(w.a,{store:Xc,children:Object(M.jsx)(B.a,{children:Object(M.jsx)(a.a.StrictMode,{children:Object(M.jsx)(Hc,{})})})}),document.getElementById("root")),Gc()},316:function(e,t,c){},512:function(e,t,c){},513:function(e,t,c){},548:function(e,t){},550:function(e,t){},579:function(e,t){},580:function(e,t){},691:function(e,t){},693:function(e,t){},721:function(e,t){},723:function(e,t){},724:function(e,t){},729:function(e,t){},731:function(e,t){},750:function(e,t){},762:function(e,t){},765:function(e,t){}},[[1061,1,2]]]);
//# sourceMappingURL=main.c22eecdc.chunk.js.map
{"version":3,"sources":["components/cards/ProductCardInCheckout.jsx","pages/Cart.jsx","images/no_image_available.png","actions/cartActions.js","functions/user.js"],"names":["Option","Select","ProductCardInCheckout","product","dispatch","useDispatch","style","width","height","images","length","small","url","large","alt","title","src","noImage","price","brand","defaultValue","color","bordered","onChange","addProductToCart","map","value","className","type","min","max","quantity","count","e","target","toast","error","info","Number","shipping","CheckCircleOutlined","CloseCircleOutlined","DeleteOutlined","onClick","removeProductToCart","Cart","history","useSelector","state","cart","user","scope","prod","_id","to","item","colSpan","reduce","acc","userCart","token","then","response","push","catch","err","message","disabled","pathname","from","getState","ADD_TO_CART","payload","console","log","window","localStorage","setItem","JSON","stringify","REMOVE_FROM_CART","removeUserCart","removeItem","EMPTY_CART","authtoken","a","axios","post","process","headers","getUserCart","get","emptyUserCart","delete","saveUserAddress","address","applyCoupon","coupon","name","createOrder","stripeResponse","getUserOrders","getWishlist","addToWishlist","productId","removeWishlist"],"mappings":"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","file":"static/js/36.5ac73805.chunk.js","sourcesContent":["import React from 'react';\nimport ModalImage from \"react-modal-image\";\nimport noImage from \"../../images/no_image_available.png\";\nimport { Select } from 'antd';\nimport { useDispatch } from 'react-redux';\nimport { addProductToCart, removeProductToCart } from '../../actions/cartActions';\nimport { toast } from \"react-toastify\";\nimport { CheckCircleOutlined, CloseCircleOutlined, DeleteOutlined } from '@ant-design/icons';\n\nconst { Option } = Select;\n\nfunction ProductCardInCheckout({ product }) {\n    const colorList = ['Black', 'Red', 'Blue', 'White', 'Brown', 'Silver'];\n\n    const dispatch = useDispatch();\n\n    const handleColorChange = (color) => {\n        product.color = color;\n        dispatch(addProductToCart(product));\n    }\n\n    const handleRemoveProductFromCart = () => {\n        dispatch(removeProductToCart(product));\n    }\n\n    const handleQuantity = (e) => {\n        let count = e.target.value;\n        if (count > product.quantity) {\n            toast.error(`Max availale quantity: ${product.quantity}`);\n            return;\n        }\n        if(count <= 0){\n            toast.info(`Please enter a quantity greater than 0`);\n        }\n        product.count = Number(count);\n        dispatch(addProductToCart(product));\n    }\n    \n    return (\n        <tr>\n            <td>\n                <div style={{ width: \"100px\", height: \"100px\" }}>\n                    {product.images.length\n                        ? <ModalImage\n                            small={product.images[0].url}\n                            large={product.images[0].url}\n                            alt={product.title} />\n                        : <img alt={product.title} src={noImage} style={{ width: \"100px\", height: \"100px\" }}/>}\n                </div>\n\n\n            </td>\n            <td>{product.title}</td>\n            <td>{product.price}</td>\n            <td>{product.brand}</td>\n            <td>\n                <Select defaultValue={product.color ? `${product.color}` : 'Please Select'}\n                    bordered={false}\n                    style={{ width: 120 }}\n                    onChange={handleColorChange}>\n                    {colorList\n                        .map(color =>\n                            <Option value={color} key={color}>{color}</Option>\n                        )}\n                </Select>\n            </td>\n            <td className=\"text-center\">\n                <input\n                    type=\"number\"\n                    min=\"1\"\n                    max={product.quantity}\n                    className=\"form-control\"\n                    value={product.count}\n                    onChange={handleQuantity}\n                />\n            </td>\n            <td>\n                {product.shipping === 'Yes'\n                ? <CheckCircleOutlined className='text-success' />\n                : <CloseCircleOutlined className='text-success' />\n            }\n            </td>\n            <td><DeleteOutlined className='text-danger pointer' onClick={handleRemoveProductFromCart}/> </td>\n        </tr>\n    )\n}\n\nexport default ProductCardInCheckout\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport ProductCardInCheckout from '../components/cards/ProductCardInCheckout';\nimport { userCart } from '../functions/user';\n\nfunction Cart({ history }) {\n    const { cart, user } = useSelector(state => ({ ...state }));\n    const gerTotal = () =>\n        cart.reduce((acc, item) => {\n            return acc + item.count * item.price;\n        }, 0);\n\n    const saveOrderToDB = () => {\n        userCart(cart, user.token)\n            .then(response => history.push(\"/checkout\"))\n            .catch(err => toast.error(err.message));\n    }\n\n    const showCartItem = () => (\n        <table className='table table-bordered'>\n            <thead className='thead-light'>\n                <tr>\n                    <th scope='col'>Image</th>\n                    <th scope='col'>Title</th>\n                    <th scope='col'>Price</th>\n                    <th scope='col'>Brand</th>\n                    <th scope='col'>Color</th>\n                    <th scope='col'>Count</th>\n                    <th scope='col'>Shipping</th>\n                    <th scope='col'>Remove</th>\n                </tr>\n            </thead>\n            <tbody>\n                {cart.map(prod => <ProductCardInCheckout key={prod._id} product={prod} />)}\n            </tbody>\n        </table>\n    )\n\n    return (\n        <div className='container-fluid pt-2'>\n            <div className='row'>\n                <div className='col-md-8'>\n                    <h4>Cart:\n                    {cart.length !== 0 && <span>{cart.length} product{cart.length !== 1 && \"s\"}</span>}\n                    </h4>\n                    {!cart.length\n                        ? <p>No product in cart? <Link to=\"/shop\">Continue Shopping</Link></p>\n                        : showCartItem()}\n                </div>\n\n                <div className='col-md-4'>\n                    <h4>Order Summary</h4>\n                    <hr />\n                    <p>Products</p>\n                    <table className=\"table table-striped\">\n                        <tbody>\n                            {cart.map(item =>\n                                <tr key={item.title}>\n                                    <td >{`${item.title}`}</td>\n                                    <td >x</td>\n                                    <td >{item.count}</td>\n                                    <td >=</td>\n                                    <td >${item.price * item.count}</td>\n                                </tr>\n                            )}\n                            <tr>\n                                <td colSpan='3'><em>Total:</em></td>\n                                <td >=</td>\n                                <td><strong>${gerTotal()}</strong></td>\n                            </tr>\n                        </tbody>\n                    </table>\n                    <div className='d-flex justify-content-around'>\n                        {user\n                            ? <button\n                                onClick={saveOrderToDB}\n                                disabled={!cart.length}\n                                className='btn btn-sm btn-primary btn-block btn-raised mt-2'>\n                                Proceed to checkout\n                            </button>\n                            : <button className='btn btn-sm btn-primary btn-block mt-2'>\n                                <Link to={{ pathname: '/login', state: { from: 'cart' } }}>Login to checkout</Link>\n                            </button>\n                        }\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Cart\n","export default __webpack_public_path__ + \"static/media/no_image_available.b21add8f.png\";","import { ADD_TO_CART, EMPTY_CART, REMOVE_FROM_CART} from \"../constants\";\n\nexport const addProductToCart = (item) => (dispatch, getState) => {\n    dispatch({\n        type: ADD_TO_CART,\n        payload: item\n    })\n    console.log('object', getState().cart)\n    if (typeof window !== 'undefined') {\n        localStorage.setItem('cart', JSON.stringify(getState().cart));\n    }\n};\n\nexport const removeProductToCart = (item) => (dispatch, getState) => {\n    dispatch({\n        type: REMOVE_FROM_CART,\n        payload: item\n    })\n    console.log('object', getState().cart)\n    if (typeof window !== 'undefined') {\n        localStorage.setItem('cart', JSON.stringify(getState().cart));\n    }\n};\n\nexport const removeUserCart = () => (dispatch) => {\n    if (typeof window !== 'undefined') {\n        localStorage.removeItem('cart');\n    }\n    dispatch({\n        type: EMPTY_CART,\n        payload: [],\n    })\n}","import axios from \"axios\";\n\nexport const userCart = async (cart, authtoken) => {\n    return await axios.post(`${process.env.REACT_APP_API}/user/cart`,\n        { cart },\n        { headers: { authtoken } })\n};\n\nexport const getUserCart = async (authtoken) => {\n    return await axios.get(`${process.env.REACT_APP_API}/user/cart`,\n        { headers: { authtoken } })\n};\n\nexport const emptyUserCart = async (authtoken) => {\n    return await axios.delete(`${process.env.REACT_APP_API}/user/cart`,\n        { headers: { authtoken } })\n};\n\nexport const saveUserAddress = async (authtoken, address) => {\n    return await axios.post(`${process.env.REACT_APP_API}/user/address`,\n        { address },\n        { headers: { authtoken } })\n};\n\nexport const applyCoupon = async (coupon, authtoken) => {\n    return await axios.post(`${process.env.REACT_APP_API}/user/cart/coupon`,\n        { name: coupon },\n        {\n            headers: { authtoken }\n        })\n};\n\nexport const createOrder = async (stripeResponse, authtoken) => {\n    return await axios.post(`${process.env.REACT_APP_API}/user/order`,\n        { stripeResponse },\n        {\n            headers: { authtoken }\n        })\n};\n\nexport const getUserOrders = async (authtoken) => {\n    return await axios.get(`${process.env.REACT_APP_API}/user/order`,\n        {\n            headers: { authtoken }\n        })\n};\n\nexport const getWishlist = async (authtoken) => {\n    return await axios.get(`${process.env.REACT_APP_API}/user/wishlist`,\n        {\n            headers: { authtoken }\n        })\n};\n\nexport const addToWishlist = async (productId, authtoken) => {\n    return await axios.post(`${process.env.REACT_APP_API}/user/wishlist`,\n        { productId },\n        {\n            headers: { authtoken }\n        })\n};\n\nexport const removeWishlist = async (productId, authtoken) => {\n    return await axios.post(`${process.env.REACT_APP_API}/user/wishlist/${productId}`, \n    {},\n    {\n        headers: { authtoken }\n    })\n};"],"sourceRoot":""}